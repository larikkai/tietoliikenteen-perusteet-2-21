/*! For license information please see 27-52afff680fe89831a653.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"52Kp":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Y}));var r,i=n("t8Zj"),o="function"==typeof atob,a="function"==typeof btoa,s="function"==typeof e,c="function"==typeof TextDecoder?new TextDecoder:void 0,l="function"==typeof TextEncoder?new TextEncoder:void 0,u=Object(i.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),d=(r={},u.forEach((function(e,t){return r[e]=t})),r),f=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),h="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return new Uint8Array(Array.prototype.slice.call(e,0).map(t))},g=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=+$/m,"")},m=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},b=function(e){for(var t,n,r,i,o="",a=e.length%3,s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");o+=u[(t=n<<16|r<<8|i)>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},v=a?function(e){return btoa(e)}:s?function(t){return e.from(t,"binary").toString("base64")}:b,C=s?function(t){return e.from(t).toString("base64")}:function(e){for(var t=[],n=0,r=e.length;n<r;n+=4096)t.push(p.apply(null,e.subarray(n,n+4096)));return v(t.join(""))},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?g(C(e)):C(e)},y=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?p(192|t>>>6)+p(128|63&t):p(224|t>>>12&15)+p(128|t>>>6&63)+p(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return p(240|t>>>18&7)+p(128|t>>>12&63)+p(128|t>>>6&63)+p(128|63&t)},w=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,A=function(e){return e.replace(w,y)},k=s?function(t){return e.from(t,"utf8").toString("base64")}:l?function(e){return C(l.encode(e))}:function(e){return v(A(e))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?g(k(e)):k(e)},Z=function(e){return x(e,!0)},B=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,_=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return p(55296+(t>>>10))+p(56320+(1023&t));case 3:return p((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return p((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},S=function(e){return e.replace(B,_)},E=function(e){if(e=e.replace(/\s+/g,""),!f.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,n,r,i="",o=0;o<e.length;)t=d[e.charAt(o++)]<<18|d[e.charAt(o++)]<<12|(n=d[e.charAt(o++)])<<6|(r=d[e.charAt(o++)]),i+=64===n?p(t>>16&255):64===r?p(t>>16&255,t>>8&255):p(t>>16&255,t>>8&255,255&t);return i},G=o?function(e){return atob(m(e))}:s?function(t){return e.from(t,"base64").toString("binary")}:E,W=s?function(t){return h(e.from(t,"base64"))}:function(e){return h(G(e),(function(e){return e.charCodeAt(0)}))},O=function(e){return W(N(e))},j=s?function(t){return e.from(t,"base64").toString("utf8")}:c?function(e){return c.decode(W(e))}:function(e){return S(G(e))},N=function(e){return m(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))},F=function(e){return j(N(e))},R=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},T=function(){var e=function(e,t){return Object.defineProperty(String.prototype,e,R(t))};e("fromBase64",(function(){return F(this)})),e("toBase64",(function(e){return x(this,e)})),e("toBase64URI",(function(){return x(this,!0)})),e("toBase64URL",(function(){return x(this,!0)})),e("toUint8Array",(function(){return O(this)}))},V=function(){var e=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,R(t))};e("toBase64",(function(e){return I(this,e)})),e("toBase64URI",(function(){return I(this,!0)})),e("toBase64URL",(function(){return I(this,!0)}))},Y={version:"3.6.0",VERSION:"3.6.0",atob:G,atobPolyfill:E,btoa:v,btoaPolyfill:b,fromBase64:F,toBase64:x,encode:x,encodeURI:Z,encodeURL:Z,utob:A,btou:S,decode:F,isValid:function(e){if("string"!=typeof e)return!1;var t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:I,toUint8Array:O,extendString:T,extendUint8Array:V,extendBuiltins:function(){T(),V()}}}).call(this,n("HDXh").Buffer)},"668i":function(e,t,n){"use strict";var r=n("q1tI"),i=n("i8i4"),o=n("gk1O"),a=n("bfFb"),s=n("Ovef");function c(e){return e.substring(2).toLowerCase()}t.a=function(e){var t=e.children,n=e.disableReactTree,l=void 0!==n&&n,u=e.mouseEvent,d=void 0===u?"onClick":u,f=e.onClickAway,p=e.touchEvent,h=void 0===p?"onTouchEnd":p,g=r.useRef(!1),m=r.useRef(null),b=r.useRef(!1),v=r.useRef(!1);r.useEffect((function(){return setTimeout((function(){b.current=!0}),0),function(){b.current=!1}}),[]);var C=r.useCallback((function(e){m.current=i.findDOMNode(e)}),[]),I=Object(a.a)(t.ref,C),y=Object(s.a)((function(e){var t=v.current;if(v.current=!1,b.current&&m.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(g.current)g.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(m.current)>-1;else n=!Object(o.a)(m.current).documentElement.contains(e.target)||m.current.contains(e.target);n||!l&&t||f(e)}})),w=function(e){return function(n){v.current=!0;var r=t.props[e];r&&r(n)}},A={ref:I};return!1!==h&&(A[h]=w(h)),r.useEffect((function(){if(!1!==h){var e=c(h),t=Object(o.a)(m.current),n=function(){g.current=!0};return t.addEventListener(e,y),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,y),t.removeEventListener("touchmove",n)}}}),[y,h]),!1!==d&&(A[d]=w(d)),r.useEffect((function(){if(!1!==d){var e=c(d),t=Object(o.a)(m.current);return t.addEventListener(e,y),function(){t.removeEventListener(e,y)}}}),[y,d]),r.createElement(r.Fragment,null,r.cloneElement(t,A))}},"79Xs":function(e,t,n){"use strict";var r=n("aXB2"),i=n("FqMR"),o=n("k1TG"),a=n("q1tI"),s=n("iuhU"),c=n("H2TA"),l=n("wpWl"),u=n("668i"),d=n("Ovef"),f=n("NqtD"),p=n("x6Ns"),h=n("bqsI"),g=n("t2Oo"),m=a.forwardRef((function(e,t){var n=e.action,i=e.anchorOrigin,c=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,m=i.horizontal,b=e.autoHideDuration,v=void 0===b?null:b,C=e.children,I=e.classes,y=e.className,w=e.ClickAwayListenerProps,A=e.ContentProps,k=e.disableWindowBlurListener,x=void 0!==k&&k,Z=e.message,B=e.onClose,_=e.onEnter,S=e.onEntered,E=e.onEntering,G=e.onExit,W=e.onExited,O=e.onExiting,j=e.onMouseEnter,N=e.onMouseLeave,F=e.open,R=e.resumeHideDuration,T=e.TransitionComponent,V=void 0===T?h.a:T,Y=e.transitionDuration,z=void 0===Y?{enter:l.b.enteringScreen,exit:l.b.leavingScreen}:Y,H=e.TransitionProps,K=Object(r.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),L=a.useRef(),X=a.useState(!0),P=X[0],D=X[1],U=Object(d.a)((function(){B&&B.apply(void 0,arguments)})),J=Object(d.a)((function(e){B&&null!=e&&(clearTimeout(L.current),L.current=setTimeout((function(){U(null,"timeout")}),e))}));a.useEffect((function(){return F&&J(v),function(){clearTimeout(L.current)}}),[F,v,J]);var M=function(){clearTimeout(L.current)},Q=a.useCallback((function(){null!=v&&J(null!=R?R:.5*v)}),[v,R,J]);return a.useEffect((function(){if(!x&&F)return window.addEventListener("focus",Q),window.addEventListener("blur",M),function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",M)}}),[x,Q,F]),!F&&P?null:a.createElement(u.a,Object(o.a)({onClickAway:function(e){B&&B(e,"clickaway")}},w),a.createElement("div",Object(o.a)({className:Object(s.a)(I.root,I["anchorOrigin".concat(Object(f.a)(c)).concat(Object(f.a)(m))],y),onMouseEnter:function(e){j&&j(e),M()},onMouseLeave:function(e){N&&N(e),Q()},ref:t},K),a.createElement(V,Object(o.a)({appear:!0,in:F,onEnter:Object(p.a)((function(){D(!1)}),_),onEntered:S,onEntering:E,onExit:G,onExited:Object(p.a)((function(){D(!0)}),W),onExiting:O,timeout:z,direction:"top"===c?"down":"up"},H),C||a.createElement(g.a,Object(o.a)({message:Z,action:n},A)))))}));t.a=Object(c.a)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},a={justifyContent:"flex-start"},s={top:24},c={bottom:24},l={right:24},u={left:24},d={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},t,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},s,d))),anchorOriginBottomCenter:Object(o.a)({},n,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},c,d))),anchorOriginTopRight:Object(o.a)({},t,r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},s,l))),anchorOriginBottomRight:Object(o.a)({},n,r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},c,l))),anchorOriginTopLeft:Object(o.a)({},t,a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},s,u))),anchorOriginBottomLeft:Object(o.a)({},n,a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},c,u)))}}),{flip:!1,name:"MuiSnackbar"})(m)},"8L3F":function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:c(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?u:10===e?d:u||d}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,c=o.commonAncestorContainer;if(e!==c&&t!==c||r.contains(i))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&p(a.firstElementChild)!==a?p(c):c;var l=h(e);return l.host?g(l.host,t):g(e,h(t).host)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[n]}return e[n]}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(t,"top"),i=m(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function v(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function C(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function I(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:C("Height",t,n,r),width:C("Width",t,n,r)}}var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function x(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Z(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=m(e,"top"),r=m(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(p){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?I(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,c=o.height||e.clientHeight||i.height,l=e.offsetWidth-s,u=e.offsetHeight-c;if(l||u){var d=a(e);l-=v(d,"x"),u-=v(d,"y"),i.width-=l,i.height-=u}return x(i)}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===t.nodeName,o=Z(e),s=Z(t),l=c(e),u=a(t),d=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=x({top:o.top-s.top-d,left:o.left-s.left-p,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var g=parseFloat(u.marginTop),m=parseFloat(u.marginLeft);h.top-=d-g,h.bottom-=d-g,h.left-=p-m,h.right-=p-m,h.marginTop=g,h.marginLeft=m}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(h=b(h,t)),h}function _(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=B(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:m(n),s=t?0:m(n,"left"),c={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o};return x(c)}function S(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=s(e);return!!n&&S(n)}function E(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function G(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?E(e):g(e,l(t));if("viewport"===r)o=_(a,i);else{var u=void 0;"scrollParent"===r?"BODY"===(u=c(s(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===r?e.ownerDocument.documentElement:r;var d=B(u,a,i);if("HTML"!==u.nodeName||S(a))o=d;else{var f=I(e.ownerDocument),p=f.height,h=f.width;o.top+=d.top-d.marginTop,o.bottom=p+d.top,o.left+=d.left-d.marginLeft,o.right=h+d.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function W(e){return e.width*e.height}function O(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=G(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map((function(e){return k({key:e},s[e],{area:W(s[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?E(t):g(t,l(n));return B(n,i,r)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function F(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function R(e,t,n){n=n.split("-")[0];var r=N(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[c]/2-r[c]/2,i[s]=n===s?t[s]-r[l]:t[F(s)],i}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function V(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=T(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=x(t.offsets.popper),t.offsets.reference=x(t.offsets.reference),t=n(t,e))})),t}function Y(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=j(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=V(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function z(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function H(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function K(){return this.state.isDestroyed=!0,z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function L(e){var t=e.ownerDocument;return t?t.defaultView:window}function X(e,t,n,r){n.updateBound=r,L(e).addEventListener("resize",n.updateBound,{passive:!0});var i=c(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),o||e(c(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function P(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function D(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,L(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function U(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function J(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var M=n&&/Firefox/i.test(navigator.userAgent);function Q(e,t,n){var r=T(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$=q.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$.indexOf(e),r=$.slice(n+1).concat($.slice(0,n));return t?r.reverse():r}var te="flip",ne="clockwise",re="counterclockwise";function ie(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(T(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return x(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){U(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",l=s?"width":"height",u={start:A({},c,o[c]),end:A({},c,o[c]+o[l]-a[l])};e.offsets.popper=k({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],c=void 0;return c=U(+n)?[+n,0]:ie(n,o,a,s),"left"===s?(o.top+=c[0],o.left-=c[1]):"right"===s?(o.top+=c[0],o.left+=c[1]):"top"===s?(o.left+=c[0],o.top-=c[1]):"bottom"===s&&(o.left+=c[0],o.top+=c[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=H("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var c=G(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),A({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),A({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=k({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",c=a?"left":"top",l=a?"width":"height";return n[s]<o(r[c])&&(e.offsets.popper[c]=o(r[c])-n[l]),n[c]>o(r[s])&&(e.offsets.popper[c]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,c=o.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",d=l?"Top":"Left",f=d.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",g=N(r)[u];c[h]-g<s[f]&&(e.offsets.popper[f]-=s[f]-(c[h]-g)),c[f]+g>s[h]&&(e.offsets.popper[f]+=c[f]+g-s[h]),e.offsets.popper=x(e.offsets.popper);var m=c[f]+c[u]/2-g/2,b=a(e.instance.popper),v=parseFloat(b["margin"+d]),C=parseFloat(b["border"+d+"Width"]),I=m-e.offsets.popper[f]-v-C;return I=Math.max(Math.min(s[u]-g,I),0),e.arrowElement=r,e.offsets.arrow=(A(n={},f,Math.round(I)),A(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(z(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=G(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=F(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case te:a=[r,i];break;case ne:a=ee(r);break;case re:a=ee(r,!0);break;default:a=t.behavior}return a.forEach((function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],i=F(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),p=d(l.left)<d(n.left),h=d(l.right)>d(n.right),g=d(l.top)<d(n.top),m=d(l.bottom)>d(n.bottom),b="left"===r&&p||"right"===r&&h||"top"===r&&g||"bottom"===r&&m,v=-1!==["top","bottom"].indexOf(r),C=!!t.flipVariations&&(v&&"start"===o&&p||v&&"end"===o&&h||!v&&"start"===o&&g||!v&&"end"===o&&m),I=!!t.flipVariationsByContent&&(v&&"start"===o&&h||v&&"end"===o&&p||!v&&"start"===o&&m||!v&&"end"===o&&g),y=C||I;(f||b||y)&&(e.flipped=!0,(f||b)&&(r=a[c+1]),y&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=k({},e.offsets.popper,R(e.instance.popper,e.offsets.reference,e.placement)),e=V(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=F(t),e.offsets.popper=x(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=T(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=T(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=p(e.instance.popper),c=Z(s),l={position:i.position},u=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},c=o(i.width),l=o(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?u||d||c%2==l%2?o:a:s,p=t?o:s;return{left:f(c%2==1&&l%2==1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!M),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=H("transform"),g=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-c.height+u.bottom:u.top,g="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-c.width+u.right:u.left,a&&h)l[h]="translate3d("+g+"px, "+m+"px, 0)",l[d]=0,l[f]=0,l.willChange="transform";else{var b="bottom"===d?-1:1,v="right"===f?-1:1;l[d]=m*b,l[f]=g*v,l.willChange=d+", "+f}var C={"x-placement":e.placement};return e.attributes=k({},C,e.attributes),e.styles=k({},l,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return J(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&J(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=j(i,t,e,n.positionFixed),a=O(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),J(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ae=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=k({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return k({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return Y.call(this)}},{key:"destroy",value:function(){return K.call(this)}},{key:"enableEventListeners",value:function(){return P.call(this)}},{key:"disableEventListeners",value:function(){return D.call(this)}}]),e}();ae.Utils=("undefined"!=typeof window?window:e).PopperUtils,ae.placements=q,ae.Defaults=oe,t.a=ae}).call(this,n("yLpj"))},"94bZ":function(e){e.exports=JSON.parse('{"button":{"cancel":"Peru","close":"Sulje","copy":"Kopioi","ok":"Kyllä","reset":"Resetoi","run":"Suorita","stop":"Pysäytä","submit":"Palauta","send":"Lähetä"},"allTestsPassed":"Testit menivät läpi!","authenticationRequired":"Sisään kirjautuminen vaaditaan","browserNotSupported":"Ohjelmointitehtäviä ei voi suorittaa Microsoft Edge -selaimella.\\nVoit käyttää seuraavia selaimia suorittaaksesi tehtäviä:","copiedConfirmation":"Kopioitu!","couldNotFindExerciseDetails":"Tehtävän tietojen hakeminen epäonnistui.","deadlineExpired":"Tehtävän deadline on ylittynyt.","dontSend":"Älä lähetä","enterInputAndPressEnter":"Anna syöte ja paina \\"Enter\\"","failedToEstablishConnectionToServer":"Yhteyden muodostaminen TestMyCode-palvelimelle epäonnistui.","failedToDownloadExercise":"Tehtävän lataaminen epäonnistui.","feedbackTitle":"Tehtävä suoritettu, onneksi olkoon!","incompatibleExerciseTemplate":"Yhteensopimaton tehtäväpohja.","infiniteLoopMessage":"Varmista, että koodissasi ei ole ikuista silmukkaa.","initializing":"Alustetaan","malformedExerciseTemplate":"Väärän muotoinen tehtäväpohja","modelSolution":"Mallivastaus","needHelp":"Ongelmia?","noExerciseFilesFound":"Tehtävätiedostoa ei löytynyt tehtäväpohjasta.","outputTitle":"Tuloste","problemsTitle":"Ongelmat","pleaseGiveFeedback":"Voit halutessasi antaa tehtävästä palautetta auttaaksesi kurssin kehittämisessä.","pleaseReportFollowingErrorsToCourseInstructor":"Ilmoita seuraavista virheistä kurssin vetäjälle","pointsAwarded":"Saadut pisteet","rememberToSubmitToServer":"Muistathan palauttaa ratkaisusi arviointia varten.","resetExerciseConfirmation":"Haluatko varmasti palauttaa alkuperäisen tehtäväpohjan?","resetExerciseNotify":"Toiminto poistaa kaiken tekemäsi tehtäväkoodin.","resetExerciseHeader":"Palauta tehtäväpohja","runButtonText":"SUORITA","running":"Suoritetaan","sendToTmcPaste":"Lähetä TMC Pasteen","selectFile":"Valitse tiedosto","showAll":"Näytä kaikki","signInToSubmitExercise":"Kirjaudu sisään palauttaaksesi tehtävän","stopButtonText":"PYSÄYTÄ","submissionProcessFailed":"Tehtävän lähettäminen epäonnistui","submissionResult":"Palautuksen arviointi","submissionTookTooLong":"Tehtävän lähettäminen kesti liian kauan.\\nVarmistathan, että koodissasi ei ole ikuista silmukkaa.","submitToServerQuestion":"Palautetaanko tehtävä?","submitting":"Palautetaan","submittingToServer":"Palautetaan tehtävää","testing":"Ajetaan testejä","testButtonText":"TESTAA","testResults":"Testien tulokset","testsPassed":"Testejä läpi","thankYouForFeedback":"Kiitos palautteesta!","tmcPasteDescription":"Voit lähettää koodisi TMC Pasteen ja jakaa linkin kurssin keskustelukanavilla pyytääksesi apua.","viewModelSolution":"Näytä mallivastaus","waitingForInput":"Odotetaan syötettä"}')},gS1B:function(e){e.exports=JSON.parse('{"name":"moocfi-python-editor","version":"0.10.2","description":"","main":"dist/src/index.js","scripts":{"build":"rm -rf ./dist && npm run encode:worker && tsc","encode:worker":"node bin/generateBase64.js","cypress:open":"cypress open","now-build":"npm run encode:worker && cd example && npm ci && npm run now-build","prepublishOnly":"npm run build","prettier-check":"prettier --check \'./**/*.{js,json,md,ts,tsx}\'","prettier":"prettier --write \'./**/*.{js,json,md,ts,tsx}\'","watch":"tsc --watch"},"keywords":[],"author":"","license":"Apache-2.0 OR MIT","repository":{"type":"git","url":"https://github.com/rage/python-editor.git"},"devDependencies":{"@fortawesome/fontawesome-free":"^5.15.1","@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/free-regular-svg-icons":"^5.15.1","@fortawesome/free-solid-svg-icons":"^5.15.1","@fortawesome/react-fontawesome":"^0.1.13","@material-ui/core":"^4.11.2","@material-ui/styles":"^4.11.2","@monaco-editor/react":"^3.7.2","@types/luxon":"^1.25.0","@types/node":"^14.14.10","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@types/styled-components":"^5.1.4","@types/uuid":"^8.3.0","axios":"^0.21.0","husky":"^4.3.5","i18next":"^19.8.4","js-base64":"^3.6.0","jszip":"^3.5.0","jszip-utils":"^0.1.0","lint-staged":"^10.5.3","luxon":"^1.25.0","monaco-editor":"^0.21.2","prettier":"^2.2.1","react":"^17.0.1","react-dom":"^17.0.1","react-i18next":"^11.8.0","styled-components":"^5.2.1","typesafe-actions":"^5.1.0","typescript":"^4.1.2","uuid":"^8.3.1"},"peerDependencies":{"@fortawesome/fontawesome-free":"^5.15.1","@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/free-regular-svg-icons":"^5.15.1","@fortawesome/free-solid-svg-icons":"^5.15.1","@fortawesome/react-fontawesome":"^0.1.11","@material-ui/core":"^4.11.0","@material-ui/styles":"^4.10.0","@monaco-editor/react":"^3.6.3","axios":">=0.18.0","i18next":">=19.3.0","js-base64":"^3.5.2","react":">=16.10.0","react-dom":">=16.10.0","react-i18next":">=11.3.0","luxon":"^1.25.0","styled-components":"^5.2.0","jszip":"^3.5.0","jszip-utils":"^0.1.0","monaco-editor":"^0.21.2","uuid":"^8.3.1"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"*.{js,css,json,md,ts,tsx}":["prettier --check"]}}')},t2Oo:function(e,t,n){"use strict";var r=n("aXB2"),i=n("FqMR"),o=n("k1TG"),a=n("q1tI"),s=n("iuhU"),c=n("H2TA"),l=n("kKAo"),u=n("ye/S"),d=a.forwardRef((function(e,t){var n=e.action,i=e.classes,c=e.className,u=e.message,d=e.role,f=void 0===d?"alert":d,p=Object(r.a)(e,["action","classes","className","message","role"]);return a.createElement(l.a,Object(o.a)({role:f,square:!0,elevation:6,className:Object(s.a)(i.root,c),ref:t},p),a.createElement("div",{className:i.message},u),n?a.createElement("div",{className:i.action},n):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(u.b)(e.palette.background.default,t);return{root:Object(o.a)({},e.typography.body2,Object(i.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(d)},vs87:function(e,t,n){"use strict";n.r(t);var r=n("kD0k"),i=n.n(r),o=(n("ls82"),n("/S4K")),a=n("9Hrx"),s=n("q1tI"),c=n.n(s),l=n("vOnD"),u=n("LCzB"),d=n("eczs"),f=n("nBd5"),p=n("pg4K"),h=n("uVck"),g=n("2M2R"),m=n("QSL9");function b(e){var t=e.i18n,n=e.defaultNS,r=e.children,i=Object(s.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return Object(s.createElement)(m.a.Provider,{value:i},r)}var v=n("XzT5"),C={en:{common:n("xKyf")},fi:{common:n("94bZ")}},I=v.a.createInstance();I.init({resources:C,ns:["common"],defaultNS:"common",lng:"en",interpolation:{escapeValue:!1},debug:!1});var y=I,w=(n("p532"),n("ExVU")),A=n("9Koi");var k=function(){return w.DateTime.local()},x=n("tRbT"),Z=n("Z3vd"),B=n("1AYd"),_=n("cVXz"),S=n("iae6"),E=n("79Xs");function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function V(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(i,r))}}}function Y(e){return{}.toString.call(e).includes("Object")}function z(e){return"function"==typeof e}var H=V((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),K={changes:function(e,t){return Y(t)||H("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&H("changeField"),t},selector:function(e){z(e)||H("selectorType")},handler:function(e){z(e)||Y(e)||H("handlerType"),Y(e)&&Object.values(e).some((function(e){return!z(e)}))&&H("handlersType")},initial:function(e){var t;e||H("initialIsRequired"),Y(e)||H("initialType"),t=e,Object.keys(t).length||H("initialContent")}};function L(e,t){return z(t)?t(e.current):t}function X(e,t){return e.current=R(R({},e.current),t),t}function P(e,t,n){return z(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var D={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K.initial(e),K.handler(t);var n={current:e},r=V(P)(n,t),i=V(X)(n),o=V(K.changes)(e),a=V(L)(n);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return K.selector(e),e(n.current)}function c(e){T(r,i,o,a)(e)}return[s,c]}},U={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/min/vs"}};var J=function(e){return{}.toString.call(e).includes("Object")};var M={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},Q=function(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(i,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))(M),q={config:function(e){return e||Q("configIsRequired"),J(e)||Q("configType"),e.urls?(console.warn(M.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var ee=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),O(O({},t),n)},te={type:"cancelation",msg:"operation is manually canceled"};var ne,re,ie=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(te):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n},oe=D.create({config:U,isInitialized:!1,resolve:null,reject:null}),ae=(re=2,function(e){if(Array.isArray(e))return e}(ne=oe)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(ne,re)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(ne,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),se=ae[0],ce=ae[1];function le(e){return document.body.appendChild(e)}function ue(e){var t,n,r=se((function(e){return{config:e.config,reject:e.reject}})),i=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return i.onload=function(){return e()},i.onerror=r.reject,i}function de(){var e=se((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){e.resolve(t)}),(function(t){e.reject(t)}))}var fe=new Promise((function(e,t){return ce({resolve:e,reject:t})})),pe={config:function(e){ce((function(t){return{config:ee(t.config,q.config(e))}}))},init:function(){if(!se((function(e){return{isInitialized:e.isInitialized}})).isInitialized){if(window.monaco&&window.monaco.editor)return ie(Promise.resolve(window.monaco));$(le,ue)(de),ce({isInitialized:!0})}return ie(fe)}},he=n("FqMR"),ge=n("8j0Q"),me={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var be=function(e){var t=e.content;return c.a.createElement("div",{style:me},t)},ve={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Object(he.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t=e.width,n=e.height,r=e.isEditorReady,i=e.loading,o=e._ref,a=e.className,s=e.wrapperClassName;return c.a.createElement("section",{style:Ie(Ie({},ve.wrapper),{},{width:t,height:n}),className:s},!r&&c.a.createElement(be,{content:i}),c.a.createElement("div",{ref:o,style:Ie(Ie({},ve.fullWidth),!r&&ve.hide),className:a}))},we=Object(s.memo)(ye);var Ae=function(e){Object(s.useEffect)(e,[])};var ke=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(s.useRef)(!0);Object(s.useEffect)(r.current||!n?function(){r.current=!1}:e,t)};function xe(){}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){var t=e.original,n=e.modified,r=e.language,i=e.originalLanguage,o=e.modifiedLanguage,a=e.editorDidMount,l=e.theme,u=e.width,d=e.height,f=e.loading,p=e.options,h=e.className,g=e.wrapperClassName,m=Object(s.useState)(!1),b=Object(ge.a)(m,2),v=b[0],C=b[1],I=Object(s.useState)(!0),y=Object(ge.a)(I,2),w=y[0],A=y[1],k=Object(s.useRef)(null),x=Object(s.useRef)(null),Z=Object(s.useRef)(null),B=Object(s.useRef)(a);Ae((function(){var e=pe.init();return e.then((function(e){return(x.current=e)&&A(!1)})).catch((function(e){return"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return k.current?E():e.cancel()}})),ke((function(){k.current.getModel().modified.setValue(n)}),[n],v),ke((function(){k.current.getModel().original.setValue(t)}),[t],v),ke((function(){var e=k.current.getModel(),t=e.original,n=e.modified;x.current.editor.setModelLanguage(t,i||r),x.current.editor.setModelLanguage(n,o||r)}),[r,i,o],v),ke((function(){x.current.editor.setTheme(l)}),[l],v),ke((function(){k.current.updateOptions(p)}),[p],v);var _=Object(s.useCallback)((function(){var e=x.current.editor.createModel(t,i||r),a=x.current.editor.createModel(n,o||r);k.current.setModel({original:e,modified:a})}),[r,n,o,t,i]),S=Object(s.useCallback)((function(){k.current=x.current.editor.createDiffEditor(Z.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Object(he.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({automaticLayout:!0},p)),_(),x.current.editor.setTheme(l),C(!0)}),[p,l,_]);Object(s.useEffect)((function(){if(v){var e=k.current.getModel(),t=e.original,n=e.modified;B.current(n.getValue.bind(n),t.getValue.bind(t),k.current)}}),[v]),Object(s.useEffect)((function(){!w&&!v&&S()}),[w,v,S]);var E=function(){return k.current.dispose()};return c.a.createElement(we,{width:u,height:d,isEditorReady:v,loading:f,_ref:Z,className:h,wrapperClassName:g})}Be.defaultProps={editorDidMount:xe,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{}};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){var t=e.value,n=e.language,r=e.editorDidMount,i=e.theme,o=e.line,a=e.width,l=e.height,u=e.loading,d=e.options,f=e.overrideServices,p=e._isControlledMode,h=e.className,g=e.wrapperClassName,m=Object(s.useState)(!1),b=Object(ge.a)(m,2),v=b[0],C=b[1],I=Object(s.useState)(!0),y=Object(ge.a)(I,2),w=y[0],A=y[1],k=Object(s.useRef)(null),x=Object(s.useRef)(null),Z=Object(s.useRef)(null),B=Object(s.useRef)(r);Ae((function(){var e=pe.init();return e.then((function(e){return(x.current=e)&&A(!1)})).catch((function(e){return"cancelation"!==(null==e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return k.current?S():e.cancel()}})),ke((function(){k.current.updateOptions(d)}),[d],v),ke((function(){if(k.current.getOption(x.current.editor.EditorOption.readOnly))k.current.setValue(t);else if(t!==k.current.getValue()){if(k.current.executeEdits("",[{range:k.current.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),p){var e=k.current.getModel();e.forceTokenization(e.getLineCount())}k.current.pushUndoStop()}}),[t],v),ke((function(){x.current.editor.setModelLanguage(k.current.getModel(),n)}),[n],v),ke((function(){k.current.setScrollPosition({scrollTop:o})}),[o],v),ke((function(){x.current.editor.setTheme(i)}),[i],v);var _=Object(s.useCallback)((function(){k.current=x.current.editor.create(Z.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(he.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({value:t,language:n,automaticLayout:!0},d),f),x.current.editor.setTheme(i),C(!0)}),[n,d,f,i,t]);Object(s.useEffect)((function(){v&&B.current(k.current.getValue.bind(k.current),k.current)}),[v]),Object(s.useEffect)((function(){!w&&!v&&_()}),[w,v,_]);var S=function(){return k.current.dispose()};return c.a.createElement(we,{width:a,height:l,isEditorReady:v,loading:u,_ref:Z,className:h,wrapperClassName:g})}Se.defaultProps={editorDidMount:xe,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{},overrideServices:{},_isControlledMode:!1};var Ee=Se,Ge=Object(s.memo)(Ee),We=n("aXB2");function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e){var t=e.value,n=e.onChange,r=e.editorDidMount,i=Object(We.a)(e,["value","onChange","editorDidMount"]),o=Object(s.useRef)(null),a=Object(s.useRef)(null),l=Object(s.useRef)(t);l.current=t;var u=Object(s.useCallback)((function(e){var t=o.current.getValue();if(l.current!==t){var r=n(e,t);"string"==typeof r&&t!==r&&o.current.setValue(r)}}),[n]),d=Object(s.useCallback)((function(){var e;a.current=null===(e=o.current)||void 0===e?void 0:e.onDidChangeModelContent(u)}),[u]);Object(s.useEffect)((function(){return d(),function(){var e;return null===(e=a.current)||void 0===e?void 0:e.dispose()}}),[d]);var f=Object(s.useCallback)((function(e,t){o.current=t,d(),r(e,t)}),[d,r]);return c.a.createElement(Ge,Oe({value:t,editorDidMount:f,_isControlledMode:!0},i))}je.defaultProps={editorDidMount:xe,onChange:xe};var Ne,Fe,Re,Te,Ve,Ye,ze=je,He=Object(s.memo)(ze),Ke=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Le=l.b.div(Ne||(Ne=Ke(["\n  min-height: 200px;\n  max-height: 950px;\n  border: 1px inset;\n  height: ",";\n"],["\n  min-height: 200px;\n  max-height: 950px;\n  border: 1px inset;\n  height: ",";\n"])),(function(e){return e.height?e.height:"400px"})),Xe=function(e){var t=e.editorValue,n=e.setEditorValue,r=e.editorHeight,i=e.setIsEditorReady;return c.a.createElement(Le,{height:r},c.a.createElement(He,{value:t,language:"python",editorDidMount:function(e,t){i(!0)},onChange:function(e,t){return t?(n(t),t):""},options:{minimap:{enabled:!1},wordWrap:"on",scrollBeyondLastLine:!1,hideCursorInOverviewRuler:!0,scrollbar:{alwaysConsumeMouseWheel:!1}}}))},Pe=n("kKAo"),De=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ue=l.b.div(Fe||(Fe=De(["\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  bottom: 0;\n  min-height: 100px;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"],["\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  bottom: 0;\n  min-height: 100px;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n"]))),Je=Object(l.b)(Pe.a)(Ve||(Ve=De(["\n  animation: ","\n    0.2s ease-in-out;\n  border: 4px 4px 0px 0px;\n  position: relative;\n  width: 100%;\n"],["\n  animation: ","\n    0.2s ease-in-out;\n  border: 4px 4px 0px 0px;\n  position: relative;\n  width: 100%;\n"])),(function(e){return e.open?(t=e.animatefrom,Object(l.c)(Re||(Re=De(["\n    from {\n      transform: translateY(",");\n    }\n\n    to  {\n      transform: translateY(0px);\n    }\n  }\n"],["\n    from {\n      transform: translateY(",");\n    }\n\n    to  {\n      transform: translateY(0px);\n    }\n  }\n"])),t&&"auto"!==t?t:"225px")):function(e){return Object(l.c)(Te||(Te=De(["\n  from {\n    transform: translateY(0px);\n  }\n\n  to {\n    transform: translateY(",");\n  }\n"],["\n  from {\n    transform: translateY(0px);\n  }\n\n  to {\n    transform: translateY(",");\n  }\n"])),e&&"auto"!==e?e:"225px")}(e.animatefrom);var t})),Me=c.a.forwardRef((function(e,t){var n=Object(s.useState)(!1),r=n[0],i=n[1],o=Object(s.useState)(!1),a=o[0],l=o[1],u=e.isRunning,d=e.outputHeight,f=function(){i(!1)},p=function(){i(!0),l(!0)};Object(s.useEffect)((function(){u&&!a&&(l(!0),r||i(!0))}),[u]),Object(s.useImperativeHandle)(t,(function(){return{close:f,open:p}}));return a?c.a.createElement(Ue,{"data-cy":"output-container"},c.a.createElement(Je,{animatefrom:d,open:r,onAnimationEnd:function(){r||l(!1)}},e.children)):null})),Qe=n("7Cbv");!function(e){e[e.ExecutingCode=1]="ExecutingCode",e[e.Idle=2]="Idle",e[e.Initializing=4]="Initializing",e[e.RunAborted=8]="RunAborted",e[e.ShowHelp=16]="ShowHelp",e[e.ShowPassedFeedbackForm=32]="ShowPassedFeedbackForm",e[e.ShowProblems=64]="ShowProblems",e[e.ShowSubmissionResults=128]="ShowSubmissionResults",e[e.ShowTestResults=256]="ShowTestResults",e[e.Submitting=512]="Submitting",e[e.Testing=1024]="Testing",e[e.WaitingInput=2048]="WaitingInput",e[e.WorkerInitializing=4096]="WorkerInitializing",e[e.Resetting=8192]="Resetting",e[e.WorkerActive=7169]="WorkerActive"}(Ye||(Ye={}));var qe=n("ofer"),$e=n("9jPY"),et=n("t8Zj"),tt=n("k1TG"),nt=n("iuhU"),rt=n("H2TA"),it=n("tr08"),ot=n("ye/S"),at=n("G7As"),st=n("gk1O"),ct=n("Ovef"),lt=n("bfFb"),ut=n("NqtD"),dt=n("yCxk");var ft=Object(rt.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(tt.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,i=e.open,o=e.value,a=e.valueLabelDisplay;return"off"===a?t:s.cloneElement(t,{className:Object(nt.a)(t.props.className,(i||"on"===a)&&n.open,n.thumb)},s.createElement("span",{className:Object(nt.a)(n.offset,r)},s.createElement("span",{className:n.circle},s.createElement("span",{className:n.label},o))))}));function pt(e,t){return e-t}function ht(e,t,n){return Math.min(Math.max(t,e),n)}function gt(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function mt(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function bt(e,t,n){return 100*(e-t)/(n-t)}function vt(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function Ct(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var o=t.slice();return o[i]=r,o}function It(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var yt,wt,At,kt,xt,Zt,Bt,_t,St,Et,Gt,Wt,Ot,jt={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},Nt=function(e){return e},Ft=s.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],i=e["aria-valuetext"],o=e.classes,a=e.className,c=e.color,l=void 0===c?"primary":c,u=e.component,d=void 0===u?"span":u,f=e.defaultValue,p=e.disabled,h=void 0!==p&&p,g=e.getAriaLabel,m=e.getAriaValueText,b=e.marks,v=void 0!==b&&b,C=e.max,I=void 0===C?100:C,y=e.min,w=void 0===y?0:y,A=e.name,k=e.onChange,x=e.onChangeCommitted,Z=e.onMouseDown,B=e.orientation,_=void 0===B?"horizontal":B,S=e.scale,E=void 0===S?Nt:S,G=e.step,W=void 0===G?1:G,O=e.ThumbComponent,j=void 0===O?"span":O,N=e.track,F=void 0===N?"normal":N,R=e.value,T=e.ValueLabelComponent,V=void 0===T?ft:T,Y=e.valueLabelDisplay,z=void 0===Y?"off":Y,H=e.valueLabelFormat,K=void 0===H?Nt:H,L=Object(We.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),X=Object(it.a)(),P=s.useRef(),D=s.useState(-1),U=D[0],J=D[1],M=s.useState(-1),Q=M[0],q=M[1],$=Object(dt.a)({controlled:R,default:f,name:"Slider"}),ee=Object(ge.a)($,2),te=ee[0],ne=ee[1],re=Array.isArray(te),ie=re?te.slice().sort(pt):[te];ie=ie.map((function(e){return ht(e,w,I)}));var oe=!0===v&&null!==W?Object(et.a)(Array(Math.floor((I-w)/W)+1)).map((function(e,t){return{value:w+W*t}})):v||[],ae=Object(at.a)(),se=ae.isFocusVisible,ce=ae.onBlurVisible,le=ae.ref,ue=s.useState(-1),de=ue[0],fe=ue[1],pe=s.useRef(),he=Object(lt.a)(le,pe),me=Object(lt.a)(t,he),be=Object(ct.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));se(e)&&fe(t),q(t)})),ve=Object(ct.a)((function(){-1!==de&&(fe(-1),ce()),q(-1)})),Ce=Object(ct.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));q(t)})),Ie=Object(ct.a)((function(){q(-1)})),ye="rtl"===X.direction,we=Object(ct.a)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=ie[n],i=(I-w)/10,o=oe.map((function(e){return e.value})),a=o.indexOf(r),s=ye?"ArrowLeft":"ArrowRight",c=ye?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=w;break;case"End":t=I;break;case"PageUp":W&&(t=r+i);break;case"PageDown":W&&(t=r-i);break;case s:case"ArrowUp":t=W?r+W:o[a+1]||o[o.length-1];break;case c:case"ArrowDown":t=W?r-W:o[a-1]||o[0];break;default:return}if(e.preventDefault(),W&&(t=vt(t,W,w)),t=ht(t,w,I),re){var l=t;t=Ct({values:ie,source:te,newValue:t,index:n}).sort(pt),It({sliderRef:pe,activeIndex:t.indexOf(l)})}ne(t),fe(n),k&&k(e,t),x&&x(e,t)})),Ae=s.useRef(),ke=_;ye&&"vertical"!==_&&(ke+="-reverse");var xe=function(e){var t,n,r=e.finger,i=e.move,o=void 0!==i&&i,a=e.values,s=e.source,c=pe.current.getBoundingClientRect(),l=c.width,u=c.height,d=c.bottom,f=c.left;if(t=0===ke.indexOf("vertical")?(d-r.y)/u:(r.x-f)/l,-1!==ke.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,w,I),W)n=vt(n,W,w);else{var p=oe.map((function(e){return e.value}));n=p[gt(p,n)]}n=ht(n,w,I);var h=0;if(re){var g=n;h=(n=Ct({values:a,source:s,newValue:n,index:h=o?Ae.current:gt(a,n)}).sort(pt)).indexOf(g),Ae.current=h}return{newValue:n,activeIndex:h}},Ze=Object(ct.a)((function(e){var t=mt(e,P);if(t){var n=xe({finger:t,move:!0,values:ie,source:te}),r=n.newValue,i=n.activeIndex;It({sliderRef:pe,activeIndex:i,setActive:J}),ne(r),k&&k(e,r)}})),Be=Object(ct.a)((function(e){var t=mt(e,P);if(t){var n=xe({finger:t,values:ie,source:te}).newValue;J(-1),"touchend"===e.type&&q(-1),x&&x(e,n),P.current=void 0;var r=Object(st.a)(pe.current);r.removeEventListener("mousemove",Ze),r.removeEventListener("mouseup",Be),r.removeEventListener("touchmove",Ze),r.removeEventListener("touchend",Be)}})),_e=Object(ct.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(P.current=t.identifier);var n=mt(e,P),r=xe({finger:n,values:ie,source:te}),i=r.newValue,o=r.activeIndex;It({sliderRef:pe,activeIndex:o,setActive:J}),ne(i),k&&k(e,i);var a=Object(st.a)(pe.current);a.addEventListener("touchmove",Ze),a.addEventListener("touchend",Be)}));s.useEffect((function(){var e=pe.current;e.addEventListener("touchstart",_e);var t=Object(st.a)(e);return function(){e.removeEventListener("touchstart",_e),t.removeEventListener("mousemove",Ze),t.removeEventListener("mouseup",Be),t.removeEventListener("touchmove",Ze),t.removeEventListener("touchend",Be)}}),[Be,Ze,_e]);var Se=Object(ct.a)((function(e){Z&&Z(e),e.preventDefault();var t=mt(e,P),n=xe({finger:t,values:ie,source:te}),r=n.newValue,i=n.activeIndex;It({sliderRef:pe,activeIndex:i,setActive:J}),ne(r),k&&k(e,r);var o=Object(st.a)(pe.current);o.addEventListener("mousemove",Ze),o.addEventListener("mouseup",Be)})),Ee=bt(re?ie[0]:w,w,I),Ge=bt(ie[ie.length-1],w,I)-Ee,Oe=Object(tt.a)({},jt[ke].offset(Ee),jt[ke].leap(Ge));return s.createElement(d,Object(tt.a)({ref:me,className:Object(nt.a)(o.root,o["color".concat(Object(ut.a)(l))],a,h&&o.disabled,oe.length>0&&oe.some((function(e){return e.label}))&&o.marked,!1===F&&o.trackFalse,"vertical"===_&&o.vertical,"inverted"===F&&o.trackInverted),onMouseDown:Se},L),s.createElement("span",{className:o.rail}),s.createElement("span",{className:o.track,style:Oe}),s.createElement("input",{value:ie.join(","),name:A,type:"hidden"}),oe.map((function(e,t){var n,r=bt(e.value,w,I),i=jt[ke].offset(r);return n=!1===F?-1!==ie.indexOf(e.value):"normal"===F&&(re?e.value>=ie[0]&&e.value<=ie[ie.length-1]:e.value<=ie[0])||"inverted"===F&&(re?e.value<=ie[0]||e.value>=ie[ie.length-1]:e.value>=ie[0]),s.createElement(s.Fragment,{key:e.value},s.createElement("span",{style:i,"data-index":t,className:Object(nt.a)(o.mark,n&&o.markActive)}),null!=e.label?s.createElement("span",{"aria-hidden":!0,"data-index":t,style:i,className:Object(nt.a)(o.markLabel,n&&o.markLabelActive)},e.label):null)})),ie.map((function(e,t){var a=bt(e,w,I),c=jt[ke].offset(a);return s.createElement(V,{key:t,valueLabelFormat:K,valueLabelDisplay:z,className:o.valueLabel,value:"function"==typeof K?K(E(e),t):K,index:t,open:Q===t||U===t||"on"===z,disabled:h},s.createElement(j,{className:Object(nt.a)(o.thumb,o["thumbColor".concat(Object(ut.a)(l))],U===t&&o.active,h&&o.disabled,de===t&&o.focusVisible),tabIndex:h?null:0,role:"slider",style:c,"data-index":t,"aria-label":g?g(t):n,"aria-labelledby":r,"aria-orientation":_,"aria-valuemax":E(I),"aria-valuemin":E(w),"aria-valuenow":E(e),"aria-valuetext":m?m(E(e),t):i,onKeyDown:we,onFocus:be,onBlur:ve,onMouseOver:Ce,onMouseLeave:Ie}))})))})),Rt=Object(rt.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Object(ot.e)(e.palette.primary.main,.62):Object(ot.a)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(ot.c)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(ot.c)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(ot.c)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(ot.c)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:Object(tt.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(Ft),Tt=n("g3U7"),Vt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Yt=l.b.div(yt||(yt=Vt(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9000;\n  background-color: rgba(127, 127, 127, 0.7);\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9000;\n  background-color: rgba(127, 127, 127, 0.7);\n"]))),zt=Object(l.b)(Pe.a)(wt||(wt=Vt(["\n  position: absolute;\n  overflow: hidden;\n  z-index: 9001;\n  width: 80%;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  margin: 3% 10% 3% 10%;\n  border-radius: 10px !important;\n"],["\n  position: absolute;\n  overflow: hidden;\n  z-index: 9001;\n  width: 80%;\n  box-shadow: -2px 3px 2px 1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  margin: 3% 10% 3% 10%;\n  border-radius: 10px !important;\n"]))),Ht=l.b.div(At||(At=Vt(["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Kt=function(e){return c.a.createElement(Yt,null,c.a.createElement(zt,null,c.a.createElement(x.a,{container:!0,direction:"row"},e.children)))},Lt=function(e){return c.a.createElement(Yt,null,c.a.createElement(Ht,null,e.children))},Xt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Dt=Object(l.b)(x.a)(kt||(kt=Xt(["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"],["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"]))),Ut=l.b.div(xt||(xt=Xt(["\n  padding: 1px 25px;\n  background: #4caf50;\n  font-family: Roboto Slab, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\n  color: white !important;\n  width: 100%;\n"],["\n  padding: 1px 25px;\n  background: #4caf50;\n  font-family: Roboto Slab, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,\n    Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji,\n    Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;\n  color: white !important;\n  width: 100%;\n"]))),Jt=l.b.div(Zt||(Zt=Xt(["\n  border-top: 1px dashed black;\n  width: 100%;\n"],["\n  border-top: 1px dashed black;\n  width: 100%;\n"]))),Mt=Object(l.b)(qe.a)(Bt||(Bt=Xt(["\n  && {\n    font-size: 1.5rem;\n    padding: 9px 5px;\n    font-weight: 500;\n    color: white !important;\n  }\n"],["\n  && {\n    font-size: 1.5rem;\n    padding: 9px 5px;\n    font-weight: 500;\n    color: white !important;\n  }\n"]))),Qt=l.b.span(_t||(_t=Xt(["\n  cursor: pointer;\n  font-size: 2rem;\n  float: right;\n"],["\n  cursor: pointer;\n  font-size: 2rem;\n  float: right;\n"]))),qt=l.b.div(St||(St=Xt(["\n  && {\n    font-size: 1rem;\n    padding: 9px 5px;\n  }\n"],["\n  && {\n    font-size: 1rem;\n    padding: 9px 5px;\n  }\n"]))),$t=Object(l.b)($e.a)(Et||(Et=Xt(["\n  && {\n    color: white;\n    margin-right: 10px;\n  }\n"],["\n  && {\n    color: white;\n    margin-right: 10px;\n  }\n"]))),en=Object(l.b)((function(e){return c.a.createElement(Z.a,Pt({variant:"contained"},e))}))(Gt||(Gt=Xt(["\n  margin: 5px !important;\n"],["\n  margin: 5px !important;\n"]))),tn=l.b.div(Wt||(Wt=Xt(["\n  margin: 20px;\n"],["\n  margin: 20px;\n"]))),nn=Object(l.b)(qe.a)(Ot||(Ot=Xt(["\n  && {\n    margin: 15px 10px 5px 10px;\n    font-weight: bold;\n  }\n"],["\n  && {\n    margin: 15px 10px 5px 10px;\n    font-weight: bold;\n  }\n"]))),rn=function(e){var t=e.awardedPoints,n=e.onSubmitFeedback,r=e.onClose,i=e.feedbackQuestions,o=e.solutionUrl,a=Object(A.a)()[0],l=Object(s.useState)((null==i?void 0:i.map((function(e){if("text"===e.kind)return Pt(Pt({},e),{kind:"text",value:""});var t=e.kind.match(/intrange\[(-?[0-9]+)\.\.(-?[0-9]+)\]/);if(t&&t[0]===e.kind){var n=parseInt(t[1]),r=parseInt(t[2]);return Pt(Pt({},e),{kind:"intrange",value:n-1,min:n,max:r})}return Pt(Pt({},e),{kind:"other",value:-1})})))||[]),u=l[0],d=l[1],f=function(e,t){d((function(n){return n.map((function(n){return n.id!==e?n:Pt(Pt({},n),{value:t})}))}))},p=function(){return u.filter((function(e){return"intrange"===e.kind&&e.value>=e.min||"text"===e.kind&&""!==e.value.toString().trim()}))},h=function(){return i&&i.length>0};return c.a.createElement(Kt,null,c.a.createElement(Ut,null,c.a.createElement(Mt,null,a("feedbackTitle"),c.a.createElement(Qt,{onClick:r},"×")),(null==t?void 0:t.length)&&t.length>0&&c.a.createElement(qt,null,a("pointsAwarded"),": ",null==t?void 0:t.map((function(e){return c.a.createElement($t,{key:e,label:e,variant:"outlined"})})))),h()&&c.a.createElement(x.a,{container:!0,direction:"column"},c.a.createElement(nn,null,a("pleaseGiveFeedback")),c.a.createElement(Dt,null,c.a.createElement("form",{id:"feedback-form",onSubmit:function(e){e.preventDefault(),n(p().map((function(e){return{questionId:e.id,answer:e.value}}))),d([])}},u.map((function(e){switch(e.kind){case"intrange":for(var t=[{value:e.min-1,label:"-"}],n=e.min;n<=e.max;n++)t.push({value:n,label:n.toString()});return c.a.createElement(tn,{key:e.id},c.a.createElement(qe.a,{gutterBottom:!0},e.question),c.a.createElement(Rt,{defaultValue:e.min-1,valueLabelFormat:function(t){return t<e.min?null:t},"aria-labelledby":"discrete-slider-custom",step:1,marks:t,min:e.min-1,max:e.max,valueLabelDisplay:"auto",onChange:function(t,n){return f(e.id,n)},style:{width:"100%"}}));case"text":return c.a.createElement(tn,{key:e.id},c.a.createElement(qe.a,{gutterBottom:!0},e.question),c.a.createElement(Tt.a,{"data-cy":"feedback-text",rowsMin:5,rowsMax:10,style:{width:"100%"},onChange:function(t){return f(e.id,t.target.value)}}));default:return null}}))))),c.a.createElement(Jt,null,h()&&c.a.createElement(en,{form:"feedback-form",disabled:p().length<=0,"data-cy":"yes-feedback",type:"submit"},a("button.send")),c.a.createElement(en,{onClick:r,"data-cy":"no-feedback"},h()?a("dontSend"):a("button.close")),o&&c.a.createElement(en,{onClick:function(){window.open(o,"_blank")},style:{float:"right"}},a("viewModelSolution"))))},on=n("gS1B"),an=atob("LyoqCiAqIFRoZSBtYWluIGJvb3RzdHJhcCBzY3JpcHQgZm9yIGxvYWRpbmcgcHlvZGlkZS4KICovCgp2YXIgbGFuZ3VhZ2VQbHVnaW5Mb2FkZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgLy8gVGhpcyBpcyBmaWxsZWQgaW4gYnkgdGhlIE1ha2VmaWxlIHRvIGJlIGVpdGhlciBhIGxvY2FsIGZpbGUgb3IgdGhlCiAgLy8gZGVwbG95ZWQgbG9jYXRpb24uIFRPRE86IFRoaXMgc2hvdWxkIGJlIGRvbmUgaW4gYSBsZXNzIGhhY2t5CiAgLy8gd2F5LgogIHZhciBiYXNlVVJMID0gc2VsZi5sYW5ndWFnZVBsdWdpblVybCB8fCAnaHR0cHM6Ly9kb3dubG9hZC5tb29jLmZpL3B5b2RpZGUtY2RuL3YwLjE1LjAvJzsKICBiYXNlVVJMID0gYmFzZVVSTC5zdWJzdHIoMCwgYmFzZVVSTC5sYXN0SW5kZXhPZignLycpKSArICcvJzsKCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8gUGFja2FnZSBsb2FkaW5nCiAgbGV0IGxvYWRlZFBhY2thZ2VzID0ge307CiAgdmFyIGxvYWRQYWNrYWdlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXNvbHZlKCkpOwogIC8vIFJlZ2V4cCBmb3IgdmFsaWRhdGluZyBwYWNrYWdlIG5hbWUgYW5kIFVSSQogIHZhciBwYWNrYWdlX25hbWVfcmVnZXhwID0gJ1thLXowLTlfXVthLXowLTlfXC1dKicKICB2YXIgcGFja2FnZV91cmlfcmVnZXhwID0KICAgICAgbmV3IFJlZ0V4cCgnXmh0dHBzPzovLy4qPygnICsgcGFja2FnZV9uYW1lX3JlZ2V4cCArICcpLmpzJCcsICdpJyk7CiAgdmFyIHBhY2thZ2VfbmFtZV9yZWdleHAgPSBuZXcgUmVnRXhwKCdeJyArIHBhY2thZ2VfbmFtZV9yZWdleHAgKyAnJCcsICdpJyk7CgogIGxldCBfdXJpX3RvX3BhY2thZ2VfbmFtZSA9IChwYWNrYWdlX3VyaSkgPT4gewogICAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgcGFja2FnZSBuYW1lIGZyb20gVVJJCgogICAgaWYgKHBhY2thZ2VfbmFtZV9yZWdleHAudGVzdChwYWNrYWdlX3VyaSkpIHsKICAgICAgcmV0dXJuIHBhY2thZ2VfdXJpOwogICAgfSBlbHNlIGlmIChwYWNrYWdlX3VyaV9yZWdleHAudGVzdChwYWNrYWdlX3VyaSkpIHsKICAgICAgbGV0IG1hdGNoID0gcGFja2FnZV91cmlfcmVnZXhwLmV4ZWMocGFja2FnZV91cmkpOwogICAgICAvLyBHZXQgdGhlIHJlZ2V4cCBncm91cCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwYWNrYWdlIG5hbWUKICAgICAgcmV0dXJuIG1hdGNoWzFdOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfTsKCiAgLy8gY2xhbmctZm9ybWF0IG9mZgogIGxldCBwcmVsb2FkV2FzbSA9ICgpID0+IHsKICAgIC8vIE9uIENocm9tZSwgd2UgaGF2ZSB0byBpbnN0YW50aWF0ZSB3YXNtIGFzeW5jaHJvbm91c2x5LiBTaW5jZSB0aGF0CiAgICAvLyBjYW4ndCBiZSBkb25lIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBjYWxsIHRvIGRsb3Blbiwgd2UgaW5zdGFudGlhdGUKICAgIC8vIGV2ZXJ5IC5zbyB0aGF0IGNvbWVzIG91ciB3YXkgdXAgZnJvbnQsIGNhY2hpbmcgaXQgaW4gdGhlCiAgICAvLyBgcHJlbG9hZGVkV2FzbWAgZGljdGlvbmFyeS4KCiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXNvbHZlKCkpOwogICAgbGV0IEZTID0gcHlvZGlkZS5fbW9kdWxlLkZTOwoKICAgIGZ1bmN0aW9uIHJlY3Vyc2VEaXIocm9vdHBhdGgpIHsKICAgICAgbGV0IGRpcnM7CiAgICAgIHRyeSB7CiAgICAgICAgZGlycyA9IEZTLnJlYWRkaXIocm9vdHBhdGgpOwogICAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZm9yIChsZXQgZW50cnkgb2YgZGlycykgewogICAgICAgIGlmIChlbnRyeS5zdGFydHNXaXRoKCcuJykpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBjb25zdCBwYXRoID0gcm9vdHBhdGggKyBlbnRyeTsKICAgICAgICBpZiAoZW50cnkuZW5kc1dpdGgoJy5zbycpKSB7CiAgICAgICAgICBpZiAoTW9kdWxlWydwcmVsb2FkZWRXYXNtJ11bcGF0aF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZQogICAgICAgICAgICAgIC50aGVuKCgpID0+IE1vZHVsZVsnbG9hZFdlYkFzc2VtYmx5TW9kdWxlJ10oCiAgICAgICAgICAgICAgICBGUy5yZWFkRmlsZShwYXRoKSwge2xvYWRBc3luYzogdHJ1ZX0pKQogICAgICAgICAgICAgIC50aGVuKChtb2R1bGUpID0+IHsKICAgICAgICAgICAgICAgIE1vZHVsZVsncHJlbG9hZGVkV2FzbSddW3BhdGhdID0gbW9kdWxlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoRlMuaXNEaXIoRlMubG9va3VwUGF0aChwYXRoKS5ub2RlLm1vZGUpKSB7CiAgICAgICAgICByZWN1cnNlRGlyKHBhdGggKyAnLycpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJlY3Vyc2VEaXIoJy8nKTsKCiAgICByZXR1cm4gcHJvbWlzZTsKICB9CiAgLy8gY2xhbmctZm9ybWF0IG9uCgogIGZ1bmN0aW9uIGxvYWRTY3JpcHQodXJsLCBvbmxvYWQsIG9uZXJyb3IpIHsKICAgIGlmIChzZWxmLmRvY3VtZW50KSB7IC8vIGJyb3dzZXIKICAgICAgY29uc3Qgc2NyaXB0ID0gc2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgc2NyaXB0LnNyYyA9IHVybDsKICAgICAgc2NyaXB0Lm9ubG9hZCA9IChlKSA9PiB7IG9ubG9hZCgpOyB9OwogICAgICBzY3JpcHQub25lcnJvciA9IChlKSA9PiB7IG9uZXJyb3IoKTsgfTsKICAgICAgc2VsZi5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICB9IGVsc2UgaWYgKHNlbGYuaW1wb3J0U2NyaXB0cykgeyAvLyB3ZWJ3b3JrZXIKICAgICAgdHJ5IHsKICAgICAgICBzZWxmLmltcG9ydFNjcmlwdHModXJsKTsKICAgICAgICBvbmxvYWQoKTsKICAgICAgfSBjYXRjaCB7CiAgICAgICAgb25lcnJvcigpOwogICAgICB9CiAgICB9CiAgfQoKICBsZXQgX2xvYWRQYWNrYWdlID0gKG5hbWVzLCBtZXNzYWdlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHsKICAgIGlmIChtZXNzYWdlQ2FsbGJhY2sgPT0gdW5kZWZpbmVkKSB7CiAgICAgIG1lc3NhZ2VDYWxsYmFjayA9ICgpID0+IHt9OwogICAgfQogICAgaWYgKGVycm9yQ2FsbGJhY2sgPT0gdW5kZWZpbmVkKSB7CiAgICAgIGVycm9yQ2FsbGJhY2sgPSAoKSA9PiB7fTsKICAgIH0KICAgIGxldCBfbWVzc2FnZUNhbGxiYWNrID0gKG1zZykgPT4gewogICAgICBjb25zb2xlLmxvZyhtc2cpOwogICAgICBtZXNzYWdlQ2FsbGJhY2sobXNnKTsKICAgIH07CiAgICBsZXQgX2Vycm9yQ2FsbGJhY2sgPSAoZXJyTXNnKSA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTsKICAgICAgZXJyb3JDYWxsYmFjayhlcnJNc2cpOwogICAgfTsKCiAgICAvLyBERlMgdG8gZmluZCBhbGwgZGVwZW5kZW5jaWVzIG9mIHRoZSByZXF1ZXN0ZWQgcGFja2FnZXMKICAgIGxldCBwYWNrYWdlcyA9IHNlbGYucHlvZGlkZS5fbW9kdWxlLnBhY2thZ2VzLmRlcGVuZGVuY2llczsKICAgIGxldCBsb2FkZWRQYWNrYWdlcyA9IHNlbGYucHlvZGlkZS5sb2FkZWRQYWNrYWdlczsKICAgIGxldCBxdWV1ZSA9IFtdLmNvbmNhdChuYW1lcyB8fCBbXSk7CiAgICBsZXQgdG9Mb2FkID0ge307CiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7CiAgICAgIGxldCBwYWNrYWdlX3VyaSA9IHF1ZXVlLnBvcCgpOwoKICAgICAgY29uc3QgcGtnID0gX3VyaV90b19wYWNrYWdlX25hbWUocGFja2FnZV91cmkpOwoKICAgICAgaWYgKHBrZyA9PSBudWxsKSB7CiAgICAgICAgX2Vycm9yQ2FsbGJhY2soYEludmFsaWQgcGFja2FnZSBuYW1lIG9yIFVSSSAnJHtwYWNrYWdlX3VyaX0nYCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHBrZyA9PSBwYWNrYWdlX3VyaSkgewogICAgICAgIHBhY2thZ2VfdXJpID0gJ2RlZmF1bHQgY2hhbm5lbCc7CiAgICAgIH0KCiAgICAgIGlmIChwa2cgaW4gbG9hZGVkUGFja2FnZXMpIHsKICAgICAgICBpZiAocGFja2FnZV91cmkgIT0gbG9hZGVkUGFja2FnZXNbcGtnXSkgewogICAgICAgICAgX2Vycm9yQ2FsbGJhY2soYFVSSSBtaXNtYXRjaCwgYXR0ZW1wdGluZyB0byBsb2FkIHBhY2thZ2UgYCArCiAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwa2d9IGZyb20gJHtwYWNrYWdlX3VyaX0gd2hpbGUgaXQgaXMgYWxyZWFkeSBgICsKICAgICAgICAgICAgICAgICAgICAgICAgIGBsb2FkZWQgZnJvbSAke2xvYWRlZFBhY2thZ2VzW3BrZ119IWApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfbWVzc2FnZUNhbGxiYWNrKGAke3BrZ30gYWxyZWFkeSBsb2FkZWQgZnJvbSAke2xvYWRlZFBhY2thZ2VzW3BrZ119YCkKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGtnIGluIHRvTG9hZCkgewogICAgICAgIGlmIChwYWNrYWdlX3VyaSAhPSB0b0xvYWRbcGtnXSkgewogICAgICAgICAgX2Vycm9yQ2FsbGJhY2soYFVSSSBtaXNtYXRjaCwgYXR0ZW1wdGluZyB0byBsb2FkIHBhY2thZ2UgYCArCiAgICAgICAgICAgICAgICAgICAgICAgICBgJHtwa2d9IGZyb20gJHtwYWNrYWdlX3VyaX0gd2hpbGUgaXQgaXMgYWxyZWFkeSBgICsKICAgICAgICAgICAgICAgICAgICAgICAgIGBiZWluZyBsb2FkZWQgZnJvbSAke3RvTG9hZFtwa2ddfSFgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgIGAke3BrZ30gdG8gYmUgbG9hZGVkIGZyb20gJHtwYWNrYWdlX3VyaX1gKTsgLy8gZGVidWcgbGV2ZWwgaW5mby4KCiAgICAgICAgdG9Mb2FkW3BrZ10gPSBwYWNrYWdlX3VyaTsKICAgICAgICBpZiAocGFja2FnZXMuaGFzT3duUHJvcGVydHkocGtnKSkgewogICAgICAgICAgcGFja2FnZXNbcGtnXS5mb3JFYWNoKChzdWJwYWNrYWdlKSA9PiB7CiAgICAgICAgICAgIGlmICghKHN1YnBhY2thZ2UgaW4gbG9hZGVkUGFja2FnZXMpICYmICEoc3VicGFja2FnZSBpbiB0b0xvYWQpKSB7CiAgICAgICAgICAgICAgcXVldWUucHVzaChzdWJwYWNrYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF9lcnJvckNhbGxiYWNrKGBVbmtub3duIHBhY2thZ2UgJyR7cGtnfSdgKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBzZWxmLnB5b2RpZGUuX21vZHVsZS5sb2NhdGVGaWxlID0gKHBhdGgpID0+IHsKICAgICAgLy8gaGFuZGxlIHBhY2thZ2VzIGxvYWRlZCBmcm9tIGN1c3RvbSBVUkxzCiAgICAgIGxldCBwa2cgPSBwYXRoLnJlcGxhY2UoL1wuZGF0YSQvLCAiIik7CiAgICAgIGlmIChwa2cgaW4gdG9Mb2FkKSB7CiAgICAgICAgbGV0IHBhY2thZ2VfdXJpID0gdG9Mb2FkW3BrZ107CiAgICAgICAgaWYgKHBhY2thZ2VfdXJpICE9ICdkZWZhdWx0IGNoYW5uZWwnKSB7CiAgICAgICAgICByZXR1cm4gcGFja2FnZV91cmkucmVwbGFjZSgvXC5qcyQvLCAiLmRhdGEiKTsKICAgICAgICB9OwogICAgICB9OwogICAgICByZXR1cm4gYmFzZVVSTCArIHBhdGg7CiAgICB9OwoKICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICBpZiAoT2JqZWN0LmtleXModG9Mb2FkKS5sZW5ndGggPT09IDApIHsKICAgICAgICByZXNvbHZlKCdObyBuZXcgcGFja2FnZXMgdG8gbG9hZCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbGV0IHBhY2thZ2VMaXN0ID0gQXJyYXkuZnJvbShPYmplY3Qua2V5cyh0b0xvYWQpKTsKICAgICAgX21lc3NhZ2VDYWxsYmFjayhgTG9hZGluZyAke3BhY2thZ2VMaXN0LmpvaW4oJywgJyl9YCkKCiAgICAgIC8vIG1vbml0b3JSdW5EZXBlbmRlbmNpZXMgaXMgY2FsbGVkIGF0IHRoZSBiZWdpbm5pbmcgYW5kIHRoZSBlbmQgb2YgZWFjaAogICAgICAvLyBwYWNrYWdlIGJlaW5nIGxvYWRlZC4gV2Uga25vdyB3ZSBhcmUgZG9uZSB3aGVuIGl0IGhhcyBiZWVuIGNhbGxlZAogICAgICAvLyBleGFjdGx5ICJ0b0xvYWQgKiAyIiB0aW1lcy4KICAgICAgdmFyIHBhY2thZ2VDb3VudGVyID0gT2JqZWN0LmtleXModG9Mb2FkKS5sZW5ndGggKiAyOwoKICAgICAgc2VsZi5weW9kaWRlLl9tb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyA9ICgpID0+IHsKICAgICAgICBwYWNrYWdlQ291bnRlci0tOwogICAgICAgIGlmIChwYWNrYWdlQ291bnRlciA9PT0gMCkgewogICAgICAgICAgZm9yIChsZXQgcGtnIGluIHRvTG9hZCkgewogICAgICAgICAgICBzZWxmLnB5b2RpZGUubG9hZGVkUGFja2FnZXNbcGtnXSA9IHRvTG9hZFtwa2ddOwogICAgICAgICAgfQogICAgICAgICAgZGVsZXRlIHNlbGYucHlvZGlkZS5fbW9kdWxlLm1vbml0b3JSdW5EZXBlbmRlbmNpZXM7CiAgICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgd2luZG93RXJyb3JIYW5kbGVyKTsKCiAgICAgICAgICBsZXQgcmVzb2x2ZU1zZyA9IGBMb2FkZWQgYDsKICAgICAgICAgIGlmIChwYWNrYWdlTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHJlc29sdmVNc2cgKz0gcGFja2FnZUxpc3Quam9pbignLCAnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlc29sdmVNc2cgKz0gJ25vIHBhY2thZ2VzJwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghaXNGaXJlZm94KSB7CiAgICAgICAgICAgIHByZWxvYWRXYXNtKCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzb2x2ZU1zZyk7CiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlTXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNvbHZlTXNnKTsKICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlTXNnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICAvLyBBZGQgYSBoYW5kbGVyIGZvciBhbnkgZXhjZXB0aW9ucyB0aGF0IGFyZSB0aHJvd24gaW4gdGhlIHByb2Nlc3Mgb2YKICAgICAgLy8gbG9hZGluZyBhIHBhY2thZ2UKICAgICAgdmFyIHdpbmRvd0Vycm9ySGFuZGxlciA9IChlcnIpID0+IHsKICAgICAgICBkZWxldGUgc2VsZi5weW9kaWRlLl9tb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llczsKICAgICAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgd2luZG93RXJyb3JIYW5kbGVyKTsKICAgICAgICAvLyBTZXQgdXAgYSBuZXcgUHJvbWlzZSBjaGFpbiwgc2luY2UgdGhpcyBvbmUgZmFpbGVkCiAgICAgICAgbG9hZFBhY2thZ2VQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlc29sdmUoKSk7CiAgICAgICAgcmVqZWN0KGVyci5tZXNzYWdlKTsKICAgICAgfTsKICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHdpbmRvd0Vycm9ySGFuZGxlcik7CgogICAgICBmb3IgKGxldCBwa2cgaW4gdG9Mb2FkKSB7CiAgICAgICAgbGV0IHNjcmlwdFNyYzsKICAgICAgICBsZXQgcGFja2FnZV91cmkgPSB0b0xvYWRbcGtnXTsKICAgICAgICBpZiAocGFja2FnZV91cmkgPT0gJ2RlZmF1bHQgY2hhbm5lbCcpIHsKICAgICAgICAgIHNjcmlwdFNyYyA9IGAke2Jhc2VVUkx9JHtwa2d9LmpzYDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2NyaXB0U3JjID0gYCR7cGFja2FnZV91cml9YDsKICAgICAgICB9CiAgICAgICAgX21lc3NhZ2VDYWxsYmFjayhgTG9hZGluZyAke3BrZ30gZnJvbSAke3NjcmlwdFNyY31gKQogICAgICAgIGxvYWRTY3JpcHQoc2NyaXB0U3JjLCAoKSA9PiB7fSwgKCkgPT4gewogICAgICAgICAgLy8gSWYgdGhlIHBhY2thZ2VfdXJpIGZhaWxzIHRvIGxvYWQsIGNhbGwgbW9uaXRvclJ1bkRlcGVuZGVuY2llcyB0d2ljZQogICAgICAgICAgLy8gKHNvIHBhY2thZ2VDb3VudGVyIHdpbGwgc3RpbGwgaGl0IDAgYW5kIGZpbmlzaCBsb2FkaW5nKSwgYW5kIHJlbW92ZQogICAgICAgICAgLy8gdGhlIHBhY2thZ2UgZnJvbSB0b0xvYWQgc28gd2UgZG9uJ3QgbWFyayBpdCBhcyBsb2FkZWQsIGFuZCByZW1vdmUKICAgICAgICAgIC8vIHRoZSBwYWNrYWdlIGZyb20gcGFja2FnZUxpc3Qgc28gd2UgZG9uJ3Qgc2F5IHRoYXQgaXQgd2FzIGxvYWRlZC4KICAgICAgICAgIF9lcnJvckNhbGxiYWNrKGBDb3VsZG4ndCBsb2FkIHBhY2thZ2UgZnJvbSBVUkwgJHtzY3JpcHRTcmN9YCk7CiAgICAgICAgICBkZWxldGUgdG9Mb2FkW3BrZ107CiAgICAgICAgICBsZXQgcGFja2FnZUxpc3RJbmRleCA9IHBhY2thZ2VMaXN0LmluZGV4T2YocGtnKTsKICAgICAgICAgIGlmIChwYWNrYWdlTGlzdEluZGV4ICE9PSAtMSkgewogICAgICAgICAgICBwYWNrYWdlTGlzdC5zcGxpY2UocGFja2FnZUxpc3RJbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykgewogICAgICAgICAgICBzZWxmLnB5b2RpZGUuX21vZHVsZS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIFdlIGhhdmUgdG8gaW52YWxpZGF0ZSBQeXRob24ncyBpbXBvcnQgY2FjaGVzLCBvciBpdCB3b24ndAogICAgICAvLyBzZWUgdGhlIG5ldyBmaWxlcy4gVGhpcyBpcyBkb25lIGhlcmUgc28gaXQgaGFwcGVucyBpbiBwYXJhbGxlbAogICAgICAvLyB3aXRoIHRoZSBmZXRjaGluZyBvdmVyIHRoZSBuZXR3b3JrLgogICAgICBzZWxmLnB5b2RpZGUucnVuUHl0aG9uKCdpbXBvcnQgaW1wb3J0bGliIGFzIF9pbXBvcnRsaWJcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdfaW1wb3J0bGliLmludmFsaWRhdGVfY2FjaGVzKClcbicpOwogICAgfSk7CgogICAgcmV0dXJuIHByb21pc2U7CiAgfTsKCiAgbGV0IGxvYWRQYWNrYWdlID0gKG5hbWVzLCBtZXNzYWdlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHsKICAgIC8qIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgb25seSBvbmUgbG9hZFBhY2thZ2UgaW52b2NhdGlvbiBydW5zIGF0IGFueQogICAgICogZ2l2ZW4gdGltZSwgc28gdGhpcyBjcmVhdGVzIGEgImNoYWluIiBvZiBwcm9taXNlcy4gKi8KICAgIGxvYWRQYWNrYWdlUHJvbWlzZSA9IGxvYWRQYWNrYWdlUHJvbWlzZS50aGVuKAogICAgICAgICgpID0+IF9sb2FkUGFja2FnZShuYW1lcywgbWVzc2FnZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSk7CiAgICByZXR1cm4gbG9hZFBhY2thZ2VQcm9taXNlOwogIH07CgogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vIEZpeCBQeXRob24gcmVjdXJzaW9uIGxpbWl0CiAgZnVuY3Rpb24gZml4UmVjdXJzaW9uTGltaXQocHlvZGlkZSkgewogICAgLy8gVGhlIEphdmFzY3JpcHQvV2FzbSBjYWxsIHN0YWNrIG1heSBiZSB0b28gc21hbGwgdG8gaGFuZGxlIHRoZSBkZWZhdWx0CiAgICAvLyBQeXRob24gY2FsbCBzdGFjayBsaW1pdCBvZiAxMDAwIGZyYW1lcy4gVGhpcyBpcyBnZW5lcmFsbHkgdGhlIGNhc2Ugb24KICAgIC8vIENocm9tKGl1bSksIGJ1dCBub3Qgb24gRmlyZWZveC4gSGVyZSwgd2UgZGV0ZXJtaW5lIHRoZSBKYXZhc2NyaXB0IGNhbGwKICAgIC8vIHN0YWNrIGRlcHRoIGF2YWlsYWJsZSwgYW5kIHRoZW4gZGl2aWRlIGJ5IDUwIChkZXRlcm1pbmVkIGhldXJpc3RpY2FsbHkpCiAgICAvLyB0byBzZXQgdGhlIG1heGltdW0gUHl0aG9uIGNhbGwgc3RhY2sgZGVwdGguCgogICAgbGV0IGRlcHRoID0gMDsKICAgIGZ1bmN0aW9uIHJlY3Vyc2UoKSB7CiAgICAgIGRlcHRoICs9IDE7CiAgICAgIHJlY3Vyc2UoKTsKICAgIH0KICAgIHRyeSB7CiAgICAgIHJlY3Vyc2UoKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICA7CiAgICB9CgogICAgbGV0IHJlY3Vyc2lvbkxpbWl0ID0gZGVwdGggLyA1MDsKICAgIGlmIChyZWN1cnNpb25MaW1pdCA+IDEwMDApIHsKICAgICAgcmVjdXJzaW9uTGltaXQgPSAxMDAwOwogICAgfQogICAgcHlvZGlkZS5ydW5QeXRob24oCiAgICAgICAgYGltcG9ydCBzeXM7IHN5cy5zZXRyZWN1cnNpb25saW1pdChpbnQoJHtyZWN1cnNpb25MaW1pdH0pKWApOwogIH07CgogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vIFJlYXJyYW5nZSBuYW1lc3BhY2UgZm9yIHB1YmxpYyBBUEkKICBsZXQgUFVCTElDX0FQSSA9IFsKICAgICdnbG9iYWxzJywKICAgICdsb2FkUGFja2FnZScsCiAgICAnbG9hZGVkUGFja2FnZXMnLAogICAgJ3B5aW1wb3J0JywKICAgICdyZXByJywKICAgICdydW5QeXRob24nLAogICAgJ3J1blB5dGhvbkFzeW5jJywKICAgICdjaGVja0FCSScsCiAgICAndmVyc2lvbicsCiAgICAnYXV0b2NvbXBsZXRlJywKICBdOwoKICBmdW5jdGlvbiBtYWtlUHVibGljQVBJKG1vZHVsZSwgcHVibGljX2FwaSkgewogICAgdmFyIG5hbWVzcGFjZSA9IHtfbW9kdWxlIDogbW9kdWxlfTsKICAgIGZvciAobGV0IG5hbWUgb2YgcHVibGljX2FwaSkgewogICAgICBuYW1lc3BhY2VbbmFtZV0gPSBtb2R1bGVbbmFtZV07CiAgICB9CiAgICByZXR1cm4gbmFtZXNwYWNlOwogIH0KCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8gTG9hZGluZyBQeW9kaWRlCiAgbGV0IHdhc21VUkwgPSBgJHtiYXNlVVJMfXB5b2RpZGUuYXNtLndhc21gOwogIGxldCBNb2R1bGUgPSB7fTsKICBzZWxmLk1vZHVsZSA9IE1vZHVsZTsKCiAgTW9kdWxlLm5vSW1hZ2VEZWNvZGluZyA9IHRydWU7CiAgTW9kdWxlLm5vQXVkaW9EZWNvZGluZyA9IHRydWU7CiAgTW9kdWxlLm5vV2FzbURlY29kaW5nID0gdHJ1ZTsKICBNb2R1bGUucHJlbG9hZGVkV2FzbSA9IHt9OwogIGxldCBpc0ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpID4gLTE7CgogIGxldCB3YXNtX3Byb21pc2UsIHdhc21fZmV0Y2ggPSBmZXRjaCh3YXNtVVJMKTsKICBjb25zdCBjb21waWxlQnVmZmVyID0gKCkgPT4KICAgICAgd2FzbV9mZXRjaC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpCiAgICAgICAgICAudGhlbihieXRlcyA9PiBXZWJBc3NlbWJseS5jb21waWxlKGJ5dGVzKSk7CiAgaWYgKFdlYkFzc2VtYmx5LmNvbXBpbGVTdHJlYW1pbmcgPT09IHVuZGVmaW5lZCkgewogICAgd2FzbV9wcm9taXNlID0gY29tcGlsZUJ1ZmZlcigpOwogIH0gZWxzZSB7CiAgICB3YXNtX3Byb21pc2UgPSBXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nKHdhc21fZmV0Y2gpOwogICAgd2FzbV9wcm9taXNlID0gd2FzbV9wcm9taXNlLmNhdGNoKGUgPT4gewogICAgICBpZiAoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoInB5b2RpZGUgc3RyZWFtaW5nIGNvbXBpbGF0aW9uIGZhaWxlZDoiLCBlLAogICAgICAgICAgICAgICAgICAgICAgIi0gZmFsbGluZyBiYWNrIHRvIGJ1ZmZlcmVkIGNvbXBpbGF0aW9uIik7CiAgICAgICAgcmV0dXJuIGNvbXBpbGVCdWZmZXIoKQogICAgICB9CiAgICAgIHRocm93IGU7CiAgICB9KTsKICB9CgogIE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gPSAoaW5mbywgcmVjZWl2ZUluc3RhbmNlKSA9PiB7CiAgICB3YXNtX3Byb21pc2UudGhlbihtb2R1bGUgPT4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUobW9kdWxlLCBpbmZvKSkKICAgICAgICAudGhlbihpbnN0YW5jZSA9PiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UpKTsKICAgIHJldHVybiB7fTsKICB9OwoKICBNb2R1bGUuY2hlY2tBQkkgPSBmdW5jdGlvbihBQklfbnVtYmVyKSB7CiAgICBpZiAoQUJJX251bWJlciAhPT0gcGFyc2VJbnQoJzEnKSkgewogICAgICB2YXIgQUJJX21pc21hdGNoX2V4Y2VwdGlvbiA9CiAgICAgICAgICBgQUJJIG51bWJlcnMgZGlmZmVyLiBFeHBlY3RlZCAxLCBnb3QgJHtBQklfbnVtYmVyfWA7CiAgICAgIGNvbnNvbGUuZXJyb3IoQUJJX21pc21hdGNoX2V4Y2VwdGlvbik7CiAgICAgIHRocm93IEFCSV9taXNtYXRjaF9leGNlcHRpb247CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICBNb2R1bGUuYXV0b2NvbXBsZXRlID0KICAgICAgZnVuY3Rpb24ocGF0aCkgewogICAgdmFyIHB5b2RpZGVfbW9kdWxlID0gTW9kdWxlLnB5aW1wb3J0KCJweW9kaWRlIik7CiAgICByZXR1cm4gcHlvZGlkZV9tb2R1bGUuZ2V0X2NvbXBsZXRpb25zKHBhdGgpOwogIH0KCiAgICAgIE1vZHVsZS5sb2NhdGVGaWxlID0gKHBhdGgpID0+IGJhc2VVUkwgKyBwYXRoOwogIHZhciBwb3N0UnVuUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIE1vZHVsZS5wb3N0UnVuID0gKCkgPT4gewogICAgICBkZWxldGUgc2VsZi5Nb2R1bGU7CiAgICAgIGZldGNoKGAke2Jhc2VVUkx9cGFja2FnZXMuanNvbmApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgIC50aGVuKChqc29uKSA9PiB7CiAgICAgICAgICAgIGZpeFJlY3Vyc2lvbkxpbWl0KHNlbGYucHlvZGlkZSk7CiAgICAgICAgICAgIHNlbGYucHlvZGlkZS5nbG9iYWxzID0KICAgICAgICAgICAgICAgIHNlbGYucHlvZGlkZS5ydW5QeXRob24oJ2ltcG9ydCBzeXNcbnN5cy5tb2R1bGVzWyJfX21haW5fXyJdJyk7CiAgICAgICAgICAgIHNlbGYucHlvZGlkZSA9IG1ha2VQdWJsaWNBUEkoc2VsZi5weW9kaWRlLCBQVUJMSUNfQVBJKTsKICAgICAgICAgICAgc2VsZi5weW9kaWRlLl9tb2R1bGUucGFja2FnZXMgPSBqc29uOwogICAgICAgICAgICBpZiAoc2VsZi5pb2RpZGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIC8vIFBlcmZvcm0gc29tZSBjb21wbGV0aW9ucyBpbW1lZGlhdGVseSBzbyB0aGVyZSBpc24ndCBhIGRlbGF5IG9uCiAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGNhbGwgdG8gYXV0b2NvbXBsZXRlCiAgICAgICAgICAgICAgc2VsZi5weW9kaWRlLnJ1blB5dGhvbignaW1wb3J0IHB5b2RpZGUnKTsKICAgICAgICAgICAgICBzZWxmLnB5b2RpZGUucnVuUHl0aG9uKCdweW9kaWRlLmdldF9jb21wbGV0aW9ucygiIiknKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9KTsKICAgIH07CiAgfSk7CgogIHZhciBkYXRhTG9hZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICBNb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llcyA9CiAgICAgICAgKG4pID0+IHsKICAgICAgICAgIGlmIChuID09PSAwKSB7CiAgICAgICAgICAgIGRlbGV0ZSBNb2R1bGUubW9uaXRvclJ1bkRlcGVuZGVuY2llczsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICB9KTsKCiAgUHJvbWlzZS5hbGwoWyBwb3N0UnVuUHJvbWlzZSwgZGF0YUxvYWRQcm9taXNlIF0pLnRoZW4oKCkgPT4gcmVzb2x2ZSgpKTsKCiAgY29uc3QgZGF0YV9zY3JpcHRfc3JjID0gYCR7YmFzZVVSTH1weW9kaWRlLmFzbS5kYXRhLmpzYDsKICBsb2FkU2NyaXB0KGRhdGFfc2NyaXB0X3NyYywgKCkgPT4gewogICAgY29uc3Qgc2NyaXB0U3JjID0gYCR7YmFzZVVSTH1weW9kaWRlLmFzbS5qc2A7CiAgICBsb2FkU2NyaXB0KHNjcmlwdFNyYywgKCkgPT4gewogICAgICAvLyBUaGUgZW1zY3JpcHRlbiBtb2R1bGUgbmVlZHMgdG8gYmUgYXQgdGhpcyBsb2NhdGlvbiBmb3IgdGhlIGNvcmUKICAgICAgLy8gZmlsZXN5c3RlbSB0byBpbnN0YWxsIGl0c2VsZi4gT25jZSB0aGF0J3MgY29tcGxldGUsIGl0IHdpbGwgYmUgcmVwbGFjZWQKICAgICAgLy8gYnkgdGhlIGNhbGwgdG8gYG1ha2VQdWJsaWNBUElgIHdpdGggYSBtb3JlIGxpbWl0ZWQgcHVibGljIEFQSS4KICAgICAgc2VsZi5weW9kaWRlID0gcHlvZGlkZShNb2R1bGUpOwogICAgICBzZWxmLnB5b2RpZGUubG9hZGVkUGFja2FnZXMgPSB7fTsKICAgICAgc2VsZi5weW9kaWRlLmxvYWRQYWNrYWdlID0gbG9hZFBhY2thZ2U7CiAgICB9LCAoKSA9PiB7fSk7CiAgfSwgKCkgPT4ge30pOwp9KTsKbGFuZ3VhZ2VQbHVnaW5Mb2FkZXIK"),sn=atob("bGV0IHByaW50QnVmZmVyID0gW10KbGV0IGludGVydmFsSWQgPSBudWxsCmNvbnN0IGJhdGNoU2l6ZSA9IDUwCmxldCBydW5uaW5nID0gZmFsc2UKCi8qKgogKiBwcmludEJ1ZmZlciBzaG91bGQgb25seSBjb250YWluIHN0cmluZ3MsIGlmIGFuIG9iamVjdCBpcyBlbmNvdW50ZXJlZCBpdCdzIGFuIGlucHV0IHJlcXVlc3QKICogQHJldHVybnMgVGhlIGxhc3QgZWxlbWVudCwgaS5lLiBpbnB1dCByZXF1ZXN0IGZyb20gcHJpbnRCdWZmZXIKICovCmNvbnN0IGNoZWNrRm9ySW5wdXRNZXNzYWdlID0gKCkgPT4gewogIGxldCBtc2dPYmplY3QgPSBudWxsCiAgaWYgKHR5cGVvZiBwcmludEJ1ZmZlcltwcmludEJ1ZmZlci5sZW5ndGggLSAxXSA9PT0gIm9iamVjdCIpIHsKICAgIG1zZ09iamVjdCA9IHByaW50QnVmZmVyLnBvcCgpCiAgfQogIHJldHVybiBtc2dPYmplY3QKfQoKY29uc3QgcHJpbnRCdWZmZXJNYW5hZ2VyID0gKHJ1bkluSW50ZXJ2YWxzKSA9PiB7CiAgaWYgKGludGVydmFsSWQpIHsKICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkKICB9CiAgaWYgKHJ1bkluSW50ZXJ2YWxzKSB7CiAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBpZiAocHJpbnRCdWZmZXIubGVuZ3RoID4gMCkgewogICAgICAgIGxldCBpbnB1dE9iamVjdCA9IG51bGwKICAgICAgICAvLyBDb2RlIGhhbHRzIGF0IGlucHV0LCBpZiBpbnB1dCByZXF1ZXN0ZWQsIGl0J3MgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgYnVmZmVyLgogICAgICAgIGlmIChwcmludEJ1ZmZlci5sZW5ndGggPD0gYmF0Y2hTaXplKSB7CiAgICAgICAgICBpbnB1dE9iamVjdCA9IGNoZWNrRm9ySW5wdXRNZXNzYWdlKCkKICAgICAgICB9CiAgICAgICAgY29uc3QgYmF0Y2ggPSBwcmludEJ1ZmZlci5zcGxpY2UoMCwgYmF0Y2hTaXplKQogICAgICAgIHBvc3RNZXNzYWdlKHsgdHlwZTogInByaW50X2JhdGNoIiwgbXNnOiBiYXRjaCB9KQogICAgICAgIGlmIChpbnB1dE9iamVjdCkgcG9zdE1lc3NhZ2UoaW5wdXRPYmplY3QpCiAgICAgIH0KICAgICAgaWYgKCFydW5uaW5nICYmIHByaW50QnVmZmVyLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkKICAgICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6ICJwcmludF9kb25lIiB9KQogICAgICB9CiAgICB9LCAxMDApCiAgfQp9CgpsZXQgcHJldkRhdGUgPSBudWxsCi8qKgogKiBQeXRob24gcHJpbnQgYWxpYXMgd2hlbiBydW5uaW5nIHdpdGggUHlvZGlkZS4gaW5jbHVkZSBsaW5lcwogKiBgZnJvbSBqcyBpbXBvcnQgcHJpbnRgIGFuZCBgX19idWlsdGluc19fLnByaW50ID0gcHJpbnRgIHRvIHVzZS4KICovCmZ1bmN0aW9uIHByaW50KC4uLmFyZ3MpIHsKICBjb25zdCBrd2FyZ3MgPSBhcmdzLnBvcCgpCiAgY29uc3QgdGV4dCA9IGFyZ3Muam9pbihrd2FyZ3M/LnNlcCA/PyAiICIpICsgKGt3YXJncz8uZW5kID8/ICJcbiIpCiAgcHJpbnRCdWZmZXIucHVzaCh0ZXh0KQoKICAvLyBJZiBjb2RlIGlzIGluIGxvb3AsIGludGVydmFsTWFuYWdlciBkb2Vzbid0IHByaW50IGJhdGNoZXMoPykKICAvLyBUaGlzIGJlbG93IG1ha2VzIHN1cmUgdGhlcmUgYXJlIHByaW50cyBkb25lLgogIGNvbnN0IG5ld0RhdGUgPSBEYXRlLm5vdygpCiAgaWYgKG5ld0RhdGUgLSBwcmV2RGF0ZSA+IDUwKSB7CiAgICBwb3N0TWVzc2FnZSh7CiAgICAgIHR5cGU6ICJwcmludF9iYXRjaCIsCiAgICAgIG1zZzogcHJpbnRCdWZmZXIuc3BsaWNlKDAsIGJhdGNoU2l6ZSksCiAgICB9KQogICAgcHJldkRhdGUgPSBuZXdEYXRlCiAgfQp9CgpmdW5jdGlvbiBwcmludEVycm9yKC4uLmFyZ3MpIHsKICBjb25zdCBrd2FyZ3MgPSBhcmdzLnBvcCgpCiAgY29uc3QgdGV4dCA9IGFyZ3Muam9pbihrd2FyZ3M/LnNlcCA/PyAiICIpICsgKGt3YXJncz8uZW5kID8/ICJcbiIpCiAgcG9zdE1lc3NhZ2UoewogICAgdHlwZTogImVycm9yIiwKICAgIG1zZzogZml4TGluZU51bWJlck9mZnNldCh0ZXh0KSwKICB9KQp9Cgphc3luYyBmdW5jdGlvbiBpbnB1dFByb21pc2UoKSB7CiAgcHJpbnRCdWZmZXIucHVzaCh7IHR5cGU6ICJpbnB1dF9yZXF1aXJlZCIgfSkKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLmRhdGEudHlwZSA9PT0gImlucHV0IikgewogICAgICAgIHJlc29sdmUoZS5kYXRhLm1zZykKICAgICAgfQogICAgfSkKICB9KQp9Cgphc3luYyBmdW5jdGlvbiB3YWl0KG1zKSB7CiAgYXdhaXQgbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIG1zKSkKfQoKZnVuY3Rpb24gZXhpdCgpIHsKICBwb3N0TWVzc2FnZSh7IHR5cGU6ICJyZWFkeSIgfSkKICBydW5uaW5nID0gZmFsc2UKfQoKZnVuY3Rpb24gcnVuKHsgY29kZSwgZGVidWcgfSkgewogIC8vIEFzeW5jIGZ1bmN0aW9uIHdvcmthcm91bmQgZm9yIGlucHV0IGJ5IEFuZHJlYXMgS2xvc3Rlcm1hbm4KICAvLyBodHRwczovL2dpdGh1Yi5jb20vYWtsb3N0ZXIvYWlvd2ViLWRlbW8vYmxvYi9tYXN0ZXIvc3JjL21haW4ucHkKICBjb2RlID0gYFwKYXN5bmMgZGVmIGV4ZWN1dGUoKToKICAgIF9fbmFtZV9fID0gIl9fbWFpbl9fIgoke2NvZGUKICAucmVwbGFjZSgvXFwvZywgIlxcXFwiKQogIC5yZXBsYWNlKC8iIiIvZywgJ1xcIlxcIlxcIicpCiAgLnNwbGl0KCJcbiIpCiAgLm1hcCgoeCkgPT4gYCAgICAke3h9YCkKICAuam9pbigiXG4iKX0KICAgIHBhc3MgIyBTeW50YXhFcnJvcjogRU9GIC0gTWlzc2luZyBlbmQgcGFyZW50aGVzZXMgYXQgZW5kIG9mIGNvZGU/Cgpmcm9tIGZ1bmN0b29scyBpbXBvcnQgcGFydGlhbApmcm9tIGpzIGltcG9ydCBleGl0LCBpbnB1dFByb21pc2UsIHByaW50LCBwcmludEVycm9yLCB3YWl0CmltcG9ydCB0cmFjZWJhY2sKCmNsYXNzIFdyYXBwZWRQcm9taXNlOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHByb21pc2UpOgogICAgICAgIHNlbGYucHJvbWlzZSA9IHByb21pc2UKICAgIGRlZiBfX2F3YWl0X18oc2VsZik6CiAgICAgICAgeCA9IHlpZWxkIHNlbGYucHJvbWlzZQogICAgICAgIHJldHVybiB4CgpkZWYgaW5wdXQocHJvbXB0PU5vbmUpOgogICAgaWYgcHJvbXB0OgogICAgICAgIHByaW50KHByb21wdCwgZW5kPSIiKQogICAgcmV0dXJuIFdyYXBwZWRQcm9taXNlKGlucHV0UHJvbWlzZSgpKQoKY2xhc3MgUHJvbWlzZUV4Y2VwdGlvbihSdW50aW1lRXJyb3IpOgogICAgcGFzcwoKY2xhc3MgV2ViTG9vcDoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmNvcm9zID0gW10KICAgIGRlZiBjYWxsX3Nvb24oc2VsZiwgY29ybyk6CiAgICAgICAgc2VsZi5zdGVwKGNvcm8pCiAgICBkZWYgc3RlcChzZWxmLCBjb3JvLCBhcmc9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB4ID0gY29yby5zZW5kKGFyZykKICAgICAgICAgICAgeCA9IHgudGhlbihwYXJ0aWFsKHNlbGYuc3RlcCwgY29ybykpCiAgICAgICAgICAgIHguY2F0Y2gocGFydGlhbChzZWxmLmZhaWwsY29ybykpCiAgICAgICAgZXhjZXB0IFN0b3BJdGVyYXRpb24gYXMgcmVzdWx0OgogICAgICAgICAgICBwYXNzCgogICAgZGVmIGZhaWwoc2VsZiwgY29ybyxhcmc9Tm9uZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjb3JvLnRocm93KFByb21pc2VFeGNlcHRpb24oYXJnKSkKICAgICAgICBleGNlcHQgU3RvcEl0ZXJhdGlvbjoKICAgICAgICAgICAgcGFzcwoKYXN5bmMgZGVmIHdyYXBfZXhlY3V0aW9uKCk6CiAgICB0cnk6CiAgICAgICAgYXdhaXQgZXhlY3V0ZSgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgdGIgPSB0cmFjZWJhY2suZm9ybWF0X2V4YygpCiAgICAgICAgcHJpbnRFcnJvcih0YikKICAgIGV4aXQoKQoKbG9vcCA9IFdlYkxvb3AoKQpsb29wLmNhbGxfc29vbih3cmFwX2V4ZWN1dGlvbigpKQpgCgogIHBhcnNlZENvZGUgPSBgCmltcG9ydCBhc3QKaW1wb3J0IHJlCgpjbGFzcyBQYXRjaENvZGUoYXN0Lk5vZGVUcmFuc2Zvcm1lcik6CiAgICBkZWYgZ2VuZXJpY192aXNpdChzZWxmLCBub2RlKToKICAgICAgc3VwZXIoKS5nZW5lcmljX3Zpc2l0KG5vZGUpCgogICAgICAjIFB5dGhvbiAzLjggaGlnaGVyIGFsbCBpcyBhc3QuQ29uc3RhbnQKICAgICAgaWYgaXNpbnN0YW5jZShub2RlLCBhc3QuQ29uc3RhbnQpOgogICAgICAgIHJlbW92ZV9wYWRkaW5nID0gcmUuc3ViKCdbXFxuXSAgICAnLCAnXFxuJywgbm9kZS52YWx1ZSkKICAgICAgICByZXN1bHQgPSBhc3QuQ29uc3RhbnQocmVtb3ZlX3BhZGRpbmcpCiAgICAgICAgcmV0dXJuIGFzdC5jb3B5X2xvY2F0aW9uKHJlc3VsdCwgbm9kZSkKICAgICAgIyBQeXRob24gdmVyIDMuOCBsb3dlciBhc3QuU3RyIGlzIHVzZWQKICAgICAgaWYgaXNpbnN0YW5jZShub2RlLCBhc3QuU3RyKToKICAgICAgICByZW1vdmVfcGFkZGluZyA9IHJlLnN1YignW1xcbl0gICAgJywgJ1xcbicsIG5vZGUucykKICAgICAgICByZXN1bHQgPSBhc3QuQ29uc3RhbnQocmVtb3ZlX3BhZGRpbmcpCiAgICAgICAgcmV0dXJuIGFzdC5jb3B5X2xvY2F0aW9uKHJlc3VsdCwgbm9kZSkKCiAgICAgIGlucHV0X2NvbmRpdGlvbnMgPSAoCiAgICAgICAgaXNpbnN0YW5jZShub2RlLCBhc3QuQ2FsbCkKICAgICAgICBhbmQgaXNpbnN0YW5jZShub2RlLmZ1bmMsIGFzdC5OYW1lKQogICAgICAgIGFuZCBub2RlLmZ1bmMuaWQgPT0gJ2lucHV0JwogICAgICApCiAgICAgIGlmIGlucHV0X2NvbmRpdGlvbnM6CiAgICAgICAgcmVzdWx0ID0gYXN0LkF3YWl0KG5vZGUpCiAgICAgICAgcmV0dXJuIGFzdC5jb3B5X2xvY2F0aW9uKHJlc3VsdCwgbm9kZSkKCiAgICAgIHJldHVybiBub2RlCgp0cmVlID0gYXN0LnBhcnNlKCIiIiR7Y29kZX0iIiIpCm9wdGltaXplciA9IFBhdGNoQ29kZSgpCnRyZWUgPSBvcHRpbWl6ZXIudmlzaXQodHJlZSkKY29kZSA9IGNvbXBpbGUodHJlZSwgIjxzdHJpbmc+IiwgImV4ZWMiKQpleGVjKGNvZGUpCmAKICBpZiAoZGVidWcpIHsKICAgIGNvbnNvbGUubG9nKHBhcnNlZENvZGUpCiAgfQogIGxhbmd1YWdlUGx1Z2luTG9hZGVyCiAgICAudGhlbigoKSA9PiB7CiAgICAgIHB5b2RpZGUKICAgICAgICAubG9hZFBhY2thZ2UoKQogICAgICAgIC50aGVuKCgpID0+IHBvc3RNZXNzYWdlKHsgdHlwZTogInN0YXJ0X3J1biIgfSkpCiAgICAgICAgLnRoZW4oKCkgPT4gcHlvZGlkZS5ydW5QeXRob25Bc3luYyhwYXJzZWRDb2RlKSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgICAgIHByaW50QnVmZmVyLnB1c2goewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtc2c6IGZpeExpbmVOdW1iZXJPZmZzZXQoZS50b1N0cmluZygpKSwKICAgICAgICAgIH0pCiAgICAgICAgICBleGl0KCkKICAgICAgICB9KQogICAgfSkKICAgIC5jYXRjaCgoZSkgPT4gewogICAgICBwcmludEJ1ZmZlciA9IFtdCiAgICAgIHByaW50QnVmZmVyLnB1c2goewogICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgbXNnOiBmaXhMaW5lTnVtYmVyT2Zmc2V0KGUudG9TdHJpbmcoKSksCiAgICAgIH0pCiAgICAgIGV4aXQoKQogICAgfSkKfQoKZnVuY3Rpb24gbGluZU9mZnNldFJlcGxhY2VyKG0sIG51bWJlciwgbywgcykgewogIHJldHVybiAibGluZSAiICsgKHBhcnNlSW50KG51bWJlcikgLSAyKS50b1N0cmluZygpCn0KCmZ1bmN0aW9uIGZpeExpbmVOdW1iZXJPZmZzZXQobXNnKSB7CiAgcmV0dXJuIG1zZy5yZXBsYWNlKC9saW5lXHMoXGQrKS9nLCBsaW5lT2Zmc2V0UmVwbGFjZXIpCn0KCmZ1bmN0aW9uIHRlc3QoeyBjb2RlLCBkZWJ1ZyB9KSB7CiAgaWYgKGRlYnVnKSB7CiAgICBjb25zb2xlLmxvZyhjb2RlKQogIH0KICBsYW5ndWFnZVBsdWdpbkxvYWRlcgogICAgLnRoZW4oKCkgPT4gewogICAgICBweW9kaWRlCiAgICAgICAgLmxvYWRQYWNrYWdlKCkKICAgICAgICAudGhlbigoKSA9PiBwb3N0TWVzc2FnZSh7IHR5cGU6ICJzdGFydF90ZXN0IiB9KSkKICAgICAgICAudGhlbigoKSA9PiBweW9kaWRlLnJ1blB5dGhvbkFzeW5jKGNvZGUpKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJydW5uaW5nIHB5b2RpZGUgY29tcGxldGVkIikKICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInRlc3RfcmVzdWx0cyIsCiAgICAgICAgICAgIG1zZzogSlNPTi5wYXJzZShweW9kaWRlLmdsb2JhbHMudGVzdE91dHB1dCksCiAgICAgICAgICB9KQogICAgICAgICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiAicmVhZHkiIH0pCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgICAgIHByaW50QnVmZmVyLnB1c2goeyB0eXBlOiAiZXJyb3IiLCBtc2c6IGUudG9TdHJpbmcoKSB9KQogICAgICAgIH0pCiAgICB9KQogICAgLmNhdGNoKChlKSA9PiB7CiAgICAgIHByaW50QnVmZmVyID0gW10KICAgICAgcHJpbnRCdWZmZXIucHVzaCh7IHR5cGU6ICJlcnJvciIsIG1zZzogZS50b1N0cmluZygpIH0pCiAgICB9KQogICAgLmZpbmFsbHkoKCkgPT4gKHJ1bm5pbmcgPSBmYWxzZSkpCn0KCnNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICBjb25zdCB7IHR5cGUsIG1zZyB9ID0gZS5kYXRhCiAgaWYgKHR5cGUgPT09ICJydW4iKSB7CiAgICBwcmludEJ1ZmZlck1hbmFnZXIodHJ1ZSkKICAgIHJ1bm5pbmcgPSB0cnVlCiAgICBwcmludEJ1ZmZlciA9IFtdCiAgICBydW4obXNnKQogIH0gZWxzZSBpZiAodHlwZSA9PT0gInN0b3AiKSB7CiAgICBwcmludEJ1ZmZlck1hbmFnZXIoZmFsc2UpCiAgfSBlbHNlIGlmICh0eXBlID09PSAicnVuX3Rlc3RzIikgewogICAgcHJpbnRCdWZmZXJNYW5hZ2VyKHRydWUpCiAgICBydW5uaW5nID0gdHJ1ZQogICAgcHJpbnRCdWZmZXIgPSBbXQogICAgLy9jb25zb2xlLmxvZyhtc2cpCiAgICB0ZXN0KG1zZykKICB9Cn0K"),cn=on.version,ln=URL.createObjectURL(new Blob([an,sn],{type:"application/javascript"}));console.log("Creating first worker");var un,dn,fn=[new Worker(ln)],pn=function(e){var t=e.debug,n=Object(s.useState)(),r=n[0],i=n[1],o=Object(s.useState)([]),a=o[0],c=o[1];return Object(s.useEffect)((function(){r&&(a.forEach((function(e){return r.postMessage(e)})),c([]))}),[r]),[{setMessageListener:function(e){r&&(r.onmessage=e)},postMessage:function(e){r?r.postMessage(e):(c((function(t){return t.concat(e)})),function(){t&&console.log("Workerpool length is",fn.length);var e=fn.pop();0===fn.length?(t&&console.log("Creating another worker"),fn.push(new Worker(ln))):t&&console.log("Returning worker without creating new"),i(e)}())},recycle:function(){r&&(fn.push(r),t&&console.log("Recycling worker, pool size:",fn.length)),i(void 0)},terminate:function(){t&&console.log("Terminating worker"),r&&(r.onmessage=null,r.terminate(),i(void 0))}}]},hn=n("52Kp"),gn=function(e,t){return mn(e.content,[e.shortName],t)},mn=function(e,t,n){var r=/^import \./,i=/^from \.\w+ import/;return e.split("\n").map((function(e,o){return e.match(r)?bn(Cn(e),t,n):e.match(i)?vn(In(e),o,t,n):e})).join("\n")},bn=function(e,t,n){var r=e.pkg+".py";if(t.includes(r))throw r+" has already been imported. Mutually recursive imports are not allowed.";var i=yn(r,n);return"\n"+mn(i,t.concat([r]),n)+"\n"},vn=function(e,t,n,r){var i=e.pkg+".py";if(n.includes(i))throw i+" has already been imported. Mutually recursive imports are not allowed.";var o=yn(i,r),a=mn(o,n.concat([i]),r).split("\n").map((function(e){return"\t"+e})),s=e.names.join(", "),c="__wrap"+t;return"def "+c+"():\n"+(a.join("\n")+"\n")+("\treturn "+s+"\n")+(s+" = "+c+"()")},Cn=function(e){var t=e.match(/^import \.(\w+)[ \t]*$/);if(t)return{pkg:t[1]};throw"Malformed import statement"},In=function(e){var t=e.match(/^from \.(\w+) import ([\w,\s]+)/);if(t)return{pkg:t[1],names:t[2].split(",").map((function(e){return e.trim()}))};throw"Malformed import statement: "+e},yn=function(e,t){return console.log(e),console.log(t),t.filter((function(t){return t.shortName===e}))[0].content},wn=function(){return(wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},An=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},kn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},xn=function(e,t){return An(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,c,l,u,d;return kn(this,(function(f){switch(f.label){case 0:return n=t.t,[4,Zn(e)];case 1:return r=f.sent(),[4,Zn(e,"src")];case 2:return i=f.sent(),[4,Zn(e,"test")];case 3:return o=f.sent(),[4,Zn(e,"tmc")];case 4:a=f.sent(),s=[],c=!0,l=function(e){return e.sort((function(e,t){return e.shortName.localeCompare(t.shortName)}))},0===(u=i.length>0?l(i):l(r)).length&&s.push(n("noExerciseFilesFound")),d="";try{d=En(o,a)}catch(p){Array.isArray(p)?s.push.apply(s,p):s.push(p),c=!1}return[2,{problems:s,srcFiles:u,successful:c,testSource:d}]}}))}))},Zn=function(e,t,n){var r=t?RegExp(t+"/\\w*\\.py$"):/^\w+\/\w+\/\w*\.py$/,i=_n(e.file(r),n);return Promise.all(i.map((function(e){return Bn(e)})))},Bn=function(e){return An(void 0,void 0,void 0,(function(){var t,n,r,i;return kn(this,(function(o){switch(o.label){case 0:return[4,e.async("string")];case 1:return t=o.sent(),n=e.name,r=n.match(/(\w+\.py)/),i=null,r?(i=r[0],[2,{fullName:n,shortName:i,originalContent:t,content:t}]):[2,{fullName:"",shortName:"",originalContent:"",content:""}]}}))}))},_n=function(e,t){if(t){var n=e.findIndex((function(e){return e.name.includes(t)}));if(n>-1){var r=e.splice(n,1)[0];return e.unshift(r),e}}return e},Sn=function(e){return'"""\n'+e.replace(/\\/g,"\\\\").replace(/"""/g,'\\"\\"\\"')+'\n"""'},En=function(e,t){var n=Wn(e),r=Gn("hmac_writer.py",t,{content:"# old template",fullName:"",originalContent:"",shortName:"hmac_writer.py"}),i=Gn("points.py",t),o=Gn("result.py",t),a=Gn("runner.py",t),s=Gn("utils.py",t);return'\nimport base64, contextlib, importlib, io, json, sys\nfrom types import ModuleType\n\n_stdout_pointer = 0\n\ndef __wrap_import(module_name, code):\n    mod = ModuleType(module_name)\n    sys.modules[module_name] = mod\n    exec(code, mod.__dict__)\n\n__wrap_import("tmc_webeditor", __webeditor_module_source)\n\n__wrap_import("tmc_hmac_writer", '+Sn(jn(r,t))+')\n__wrap_import("tmc_points", '+Sn(jn(i,t))+')\n__wrap_import("tmc_result", '+Sn(jn(o,t))+')\n__wrap_import("tmc_runner", '+Sn(jn(a,t))+')\n__wrap_import("tmc_utils", '+Sn(jn(s,t))+")\n\n"+On(n,"PythonEditorTest",e)+'\n\ntestOutput = ""\nfrom tmc_runner import TMCTestRunner\nfrom tmc_webeditor import code\n\nimport inspect\ndef getsource(module):\n    return code\ninspect.getsource = getsource\n\ntest_suite = unittest.TestLoader().loadTestsFromTestCase(PythonEditorTest)\nwith io.StringIO() as buf:\n    with contextlib.redirect_stdout(buf):\n        TMCTestRunner(stream=buf).run(test_suite)\n    from tmc_result import results\n    testOutput = json.dumps(results, ensure_ascii=False)\n    print(testOutput)\n'},Gn=function(e,t,n){var r=t.find((function(t){return t.shortName===e}));if(!r){if(n)return n;throw'Expected to find file "'+e+'"'}return r},Wn=function(e){var t=e.find((function(e){return"__init__.py"!==e.shortName}));if(!t)throw"Couldn't find test file";return t},On=function(e,t,n){var r=e.content.split("\n").map((function(e){var n=e.match(/^from tmc import ([\w,\s]+)/);if(n)return n[1].split(",").map((function(e){return"from tmc_"+e.trim()+" import "+e.trim()})).join("\n");var r=e.match(/from tmc\.(\w+) import ([\w,\s]+)/);return r?"from tmc_"+r[1]+" import "+r[2]:e.replace(/\w+Test\(unittest.TestCase\)/,t+"(unittest.TestCase)")})).join("\n");return gn(wn(wn({},e),{content:r}),n)},jn=function(e,t){var n=e.content.split("\n").map((function(e){var t=e.match(/^import \.(\w+)/);return t?"import tmc_"+t[1]:(t=e.match(/^from \.(\w+) import ([\w,\s]+)/))||(t=e.match(/from tmc\.(\w+) import ([\w,\s]+)/))?"from tmc_"+t[1]+" import "+t[2]:e})).join("\n");switch(e.shortName){case"utils.py":n=Nn(n)}return gn(wn(wn({},e),{content:n}),t)},Nn=function(e){for(var t=!1,n=!1,r=!1,i=["import inspect","def getsource(module):","    return code","inspect.getsource = getsource"].concat(e.split("\n")),o=0;o<i.length;){var a=i[o];if(a.startsWith("_stdout_pointer"))t=!0,o++;else if(a.startsWith("def load_module")){n=!0;var s=Rn(i,o),c='    from types import ModuleType\n    from tmc_webeditor import code\n    mod = ModuleType("editorcontent")\n    try:\n        exec(code, mod.__dict__)\n    except Exception as e:\n        return AssertionError(e)\n    return mod\n'.split("\n");i=Fn(i,o+1,s,c),o+=c.length}else if(a.startsWith("def reload_module")){r=!0;s=Rn(i,o),c='    global _stdout_pointer\n    if isinstance(module, AssertionError):\n        raise module\n    _stdout_pointer = len(sys.stdout.getvalue())\n    return load_module("editorcontent")\n'.split("\n");i=Fn(i,o+1,s,c),o+=c.length}else o++}var l=[];if(!t&&l.push("Expected to find global `_stdout_pointer` from tmc/utils.py."),!n&&l.push("Expected to find function `load_module` from tmc/utils.py."),!r&&l.push("Expected to find function `reload_module` from tmc/utils.py."),l.length>0)throw l;return i.join("\n")},Fn=function(e,t,n,r){return e.slice(0,t).concat(r).concat(e.slice(n))},Rn=function(e,t){for(var n=Tn(e[t]),r=t+1;r<e.length&&n<Tn(e[r]);)r++;return r},Tn=function(e){return""===e.trim()?Number.MAX_SAFE_INTEGER:e.search(/\S/)},Vn=n("wHSu"),Yn=n("IP2g"),zn=n("r9w1"),Hn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Kn=l.b.div(un||(un=Hn(["\n  white-space: pre-wrap;\n"],["\n  white-space: pre-wrap;\n"]))),Ln=l.b.span(dn||(dn=Hn(["\n  background-color: #efefef;\n  border-radius: 3px 3px 3px 3px;\n  color: #292929;\n  margin: 3px;\n  padding: 3px;\n"],["\n  background-color: #efefef;\n  border-radius: 3px 3px 3px 3px;\n  color: #292929;\n  margin: 3px;\n  padding: 3px;\n"]))),Xn=function(e){var t=e.inputRequested,n=e.outputContent,r=e.scrollToBottom,i=e.sendInput,o=Object(A.a)()[0],a=c.a.createRef();Object(s.useEffect)((function(){var e;r(),t&&(null===(e=null==a?void 0:a.current)||void 0===e||e.focus())}),[t,n]);return c.a.createElement(Kn,null,c.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},n.map((function(e){switch(e.type){case"input":return c.a.createElement(Ln,{key:e.id},e.text);default:return c.a.createElement(c.a.Fragment,{key:e.id},e.text)}}))),t&&c.a.createElement(zn.a,{inputRef:a,label:o("enterInputAndPressEnter"),margin:"dense",variant:"outlined",InputLabelProps:{shrink:!0},onKeyPress:function(e){"Enter"===e.key&&t&&i(e.target.value)},style:{display:"block"},"data-cy":"user-input-field"}))},Pn=n("i8i4"),Dn=n("2+6g"),Un=n("bqsI"),Jn=n("8L3F"),Mn=n("aXM8"),Qn=n("bjog"),qn=n("x6Ns"),$n=n("GIek");function er(e){return"function"==typeof e?e():e}var tr="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,nr={},rr=s.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,i=e.container,o=e.disablePortal,a=void 0!==o&&o,c=e.keepMounted,l=void 0!==c&&c,u=e.modifiers,d=e.open,f=e.placement,p=void 0===f?"bottom":f,h=e.popperOptions,g=void 0===h?nr:h,m=e.popperRef,b=e.style,v=e.transition,C=void 0!==v&&v,I=Object(We.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),y=s.useRef(null),w=Object(lt.a)(y,t),A=s.useRef(null),k=Object(lt.a)(A,m),x=s.useRef(k);tr((function(){x.current=k}),[k]),s.useImperativeHandle(m,(function(){return A.current}),[]);var Z=s.useState(!0),B=Z[0],_=Z[1],S=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,Object(Mn.a)()),E=s.useState(S),G=E[0],W=E[1];s.useEffect((function(){A.current&&A.current.update()}));var O=s.useCallback((function(){if(y.current&&n&&d){A.current&&(A.current.destroy(),x.current(null));var e=function(e){W(e.placement)},t=(er(n),new Jn.a(er(n),y.current,Object(tt.a)({placement:S},g,{modifiers:Object(tt.a)({},a?{}:{preventOverflow:{boundariesElement:"window"}},u,g.modifiers),onCreate:Object(qn.a)(e,g.onCreate),onUpdate:Object(qn.a)(e,g.onUpdate)})));x.current(t)}}),[n,a,u,d,S,g]),j=s.useCallback((function(e){Object($n.a)(w,e),O()}),[w,O]),N=function(){A.current&&(A.current.destroy(),x.current(null))};if(s.useEffect((function(){return function(){N()}}),[]),s.useEffect((function(){d||C||N()}),[d,C]),!l&&!d&&(!C||B))return null;var F={placement:G};return C&&(F.TransitionProps={in:d,onEnter:function(){_(!1)},onExited:function(){_(!0),N()}}),s.createElement(Qn.a,{disablePortal:a,container:i},s.createElement("div",Object(tt.a)({ref:j,role:"tooltip"},I,{style:Object(tt.a)({position:"fixed",top:0,left:0,display:d||!l||C?null:"none"},b)}),"function"==typeof r?r(F):r))})),ir=n("wRgb");function or(e){return Math.round(1e5*e)/1e5}var ar=!1,sr=null;var cr=s.forwardRef((function(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.children,o=e.classes,a=e.disableFocusListener,c=void 0!==a&&a,l=e.disableHoverListener,u=void 0!==l&&l,d=e.disableTouchListener,f=void 0!==d&&d,p=e.enterDelay,h=void 0===p?100:p,g=e.enterNextDelay,m=void 0===g?0:g,b=e.enterTouchDelay,v=void 0===b?700:b,C=e.id,I=e.interactive,y=void 0!==I&&I,w=e.leaveDelay,A=void 0===w?0:w,k=e.leaveTouchDelay,x=void 0===k?1500:k,Z=e.onClose,B=e.onOpen,_=e.open,S=e.placement,E=void 0===S?"bottom":S,G=e.PopperComponent,W=void 0===G?rr:G,O=e.PopperProps,j=e.title,N=e.TransitionComponent,F=void 0===N?Un.a:N,R=e.TransitionProps,T=Object(We.a)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),V=Object(it.a)(),Y=s.useState(),z=Y[0],H=Y[1],K=s.useState(null),L=K[0],X=K[1],P=s.useRef(!1),D=s.useRef(),U=s.useRef(),J=s.useRef(),M=s.useRef(),Q=Object(dt.a)({controlled:_,default:!1,name:"Tooltip",state:"open"}),q=Object(ge.a)(Q,2),$=q[0],ee=q[1],te=$,ne=Object(ir.a)(C);s.useEffect((function(){return function(){clearTimeout(D.current),clearTimeout(U.current),clearTimeout(J.current),clearTimeout(M.current)}}),[]);var re=function(e){clearTimeout(sr),ar=!0,ee(!0),B&&B(e)},ie=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=i.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),P.current&&"touchstart"!==t.type||(z&&z.removeAttribute("title"),clearTimeout(U.current),clearTimeout(J.current),h||ar&&m?(t.persist(),U.current=setTimeout((function(){re(t)}),ar?m:h)):re(t))}},oe=Object(at.a)(),ae=oe.isFocusVisible,se=oe.onBlurVisible,ce=oe.ref,le=s.useState(!1),ue=le[0],de=le[1],fe=function(){ue&&(de(!1),se())},pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){z||H(t.currentTarget),ae(t)&&(de(!0),ie()(t));var n=i.props;n.onFocus&&e&&n.onFocus(t)}},he=function(e){clearTimeout(sr),sr=setTimeout((function(){ar=!1}),800+A),ee(!1),Z&&Z(e),clearTimeout(D.current),D.current=setTimeout((function(){P.current=!1}),V.transitions.duration.shortest)},me=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=i.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),fe()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===z&&n.onMouseLeave(t),clearTimeout(U.current),clearTimeout(J.current),t.persist(),J.current=setTimeout((function(){he(t)}),A)}},be=function(e){P.current=!0;var t=i.props;t.onTouchStart&&t.onTouchStart(e)},ve=Object(lt.a)(H,t),Ce=Object(lt.a)(ce,ve),Ie=s.useCallback((function(e){Object($n.a)(Ce,Pn.findDOMNode(e))}),[Ce]),ye=Object(lt.a)(i.ref,Ie);""===j&&(te=!1);var we=!te&&!u,Ae=Object(tt.a)({"aria-describedby":te?ne:null,title:we&&"string"==typeof j?j:null},T,i.props,{className:Object(nt.a)(T.className,i.props.className),onTouchStart:be,ref:ye}),ke={};f||(Ae.onTouchStart=function(e){be(e),clearTimeout(J.current),clearTimeout(D.current),clearTimeout(M.current),e.persist(),M.current=setTimeout((function(){ie()(e)}),v)},Ae.onTouchEnd=function(e){i.props.onTouchEnd&&i.props.onTouchEnd(e),clearTimeout(M.current),clearTimeout(J.current),e.persist(),J.current=setTimeout((function(){he(e)}),x)}),u||(Ae.onMouseOver=ie(),Ae.onMouseLeave=me(),y&&(ke.onMouseOver=ie(!1),ke.onMouseLeave=me(!1))),c||(Ae.onFocus=pe(),Ae.onBlur=me(),y&&(ke.onFocus=pe(!1),ke.onBlur=me(!1)));var xe=s.useMemo((function(){return Object(Dn.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(L),element:L}}}},O)}),[L,O]);return s.createElement(s.Fragment,null,s.cloneElement(i,Ae),s.createElement(W,Object(tt.a)({className:Object(nt.a)(o.popper,y&&o.popperInteractive,r&&o.popperArrow),placement:E,anchorEl:z,open:!!z&&te,id:Ae["aria-describedby"],transition:!0},ke,xe),(function(e){var t=e.placement,n=e.TransitionProps;return s.createElement(F,Object(tt.a)({timeout:V.transitions.duration.shorter},n,R),s.createElement("div",{className:Object(nt.a)(o.tooltip,o["tooltipPlacement".concat(Object(ut.a)(t.split("-")[0]))],P.current&&o.touch,r&&o.tooltipArrow)},j,r?s.createElement("span",{className:o.arrow,ref:X}):null))})))})),lr=Object(rt.a)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(ot.c)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(or(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(ot.c)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(or(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Object(he.a)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(he.a)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(he.a)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(he.a)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(cr),ur=n("pdwK"),dr=n("668i"),fr=n("RD7I"),pr=n("cNwE");var hr,gr,mr,br,vr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(fr.a)(e,Object(tt.a)({defaultTheme:pr.a},t))}({problemsButton:{backgroundColor:"#BF0000",marginLeft:"10px !important"},runButton:{backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8",color:"#228B22"}},stopButton:{backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8",color:"#F44141"}},testButton:{backgroundColor:"#EBEBEB",color:"#FF7518",marginLeft:"10px !important","&:hover":{backgroundColor:"#D5D5D5",color:"#FF7518"}},normalButton:{backgroundColor:"#EBEBEB",marginLeft:"10px !important","&:hover":{backgroundColor:"#D5D5D5"}},blueButton:{margin:"5px",backgroundColor:"#0275d8",color:"#FFF","&:hover":{backgroundColor:"#0275d8"}},darkButton:{margin:"5px",backgroundColor:"#696969",color:"#FFF","&:hover":{backgroundColor:"#808080"},"&:disabled":{backgroundColor:"#A9A9A9"}},whiteText:{color:"#FFF",paddingLeft:"5px"},allTestsPassedPaper:{borderLeft:"10px solid #4caf50",margin:"5px",padding:"10px","& h2":{color:"#4caf50"}}}),Cr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ir=function(){return(Ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},yr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},wr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ar=Object(rt.a)((function(e){return{tooltip:{backgroundColor:"#D3D3D3",color:"black",minWidth:400,maxWidth:600,fontSize:e.typography.pxToRem(12)},arrow:{color:"#D3D3D3"}}}))(lr),kr=Object(l.b)((function(e){return c.a.createElement(ur.a,Ir({},e))}))(hr||(hr=Cr(["\n  margin: 1rem;\n  width: 60%;\n"],["\n  margin: 1rem;\n  width: 60%;\n"]))),xr=function(e){var t=e.getPasteUrl,n=e.pasteDisabled,r=Object(s.useState)(!1),i=r[0],o=r[1],a=Object(s.useState)(!1),l=a[0],u=a[1],d=Object(s.useState)(),f=d[0],p=d[1],h=Object(s.useState)(!1),g=h[0],m=h[1],b=Object(s.useState)(!1),v=b[0],C=b[1],I=Object(A.a)()[0],y=vr(),w=function(){m(!1),C(!1),u(!1),p(void 0),o(!1)},k=function(){return yr(void 0,void 0,void 0,(function(){return wr(this,(function(e){return t().then((function(e){p(e),u(!0)})).catch((function(e){p(e)})),[2]}))}))},x=function(){var e=document.getElementById("textField");e instanceof HTMLInputElement&&(e.select(),document.execCommand("copy"),o(!0))};return c.a.createElement(dr.a,{onClickAway:w},c.a.createElement("div",null,c.a.createElement(Ar,{PopperProps:{disablePortal:!1},onClose:w,open:g,interactive:!0,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"bottom-end",title:c.a.createElement("div",{style:{margin:"10px"}},c.a.createElement(qe.a,null,I("tmcPasteDescription")),f&&c.a.createElement("div",null,c.a.createElement(kr,{id:"textField",value:f,"data-cy":"paste-input",readOnly:!0}),document.queryCommandSupported("copy")&&c.a.createElement(Z.a,{className:y.blueButton,"data-cy":"copy-text-btn",onClick:x},I("button.copy")),i&&c.a.createElement("span",{style:{paddingLeft:"3px"}},I("copiedConfirmation"))),c.a.createElement(Z.a,{className:y.darkButton,onClick:k,disabled:l,"data-cy":"send-to-paste-btn"},I("sendToTmcPaste"))),arrow:!0},c.a.createElement(Z.a,{variant:"contained",disabled:n,onClick:v?w:function(){m(!0),C(!0)},"data-cy":"need-help-btn",className:y.blueButton},I("needHelp")))))},Zr=n("ZGBi"),Br=n("VmPI"),_r=n("de8u"),Sr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Er=Object(rt.a)((function(e){return{root:{height:25,borderRadius:10},colorPrimary:{borderRadius:10},bar:{borderRadius:10,backgroundColor:"#0275d8"}}}))(_r.a),Gr=l.b.div(gr||(gr=Sr(["\n  width: 100%;\n  height: 25px;\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n"],["\n  width: 100%;\n  height: 25px;\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n"]))),Wr=Object(l.b)(qe.a)(mr||(mr=Sr(["\n  width: 100%;\n  color: white;\n  z-index: 1;\n  display: block;\n  position: absolute;\n"],["\n  width: 100%;\n  color: white;\n  z-index: 1;\n  display: block;\n  position: absolute;\n"]))),Or=function(e){var t=e.percentage;return t||0===t?c.a.createElement("div",{style:{marginLeft:"10px"}},c.a.createElement(Gr,null,c.a.createElement(Wr,{variant:"button"},t," %"),c.a.createElement(Er,{variant:"determinate",value:t}))):null},jr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Nr=function(){return(Nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Fr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){e.Orange="rgb(255, 128, 0)",e.Gray="#E8E8E8"}(br||(br={}));var Rr,Tr,Vr,Yr,zr,Hr,Kr,Lr,Xr,Pr,Dr,Ur,Jr,Mr=Object(l.b)((function(e){e.backgroundColor;var t=Fr(e,["backgroundColor"]);return c.a.createElement(x.a,Nr({container:!0,item:!0,direction:"row",alignItems:"center",justify:"space-between"},t))}))(Rr||(Rr=jr(["\n  background-color: ",";\n  color: black;\n  border-radius: 3px 3px 0 0;\n  padding: 5px;\n"],["\n  background-color: ",";\n  color: black;\n  border-radius: 3px 3px 0 0;\n  padding: 5px;\n"])),(function(e){return e.backgroundColor})),Qr=Object(l.b)(qe.a)(Tr||(Tr=jr(["\n  display: inline-block;\n  padding: 5px;\n  margin-left: 10px !important;\n  color: #252525;\n"],["\n  display: inline-block;\n  padding: 5px;\n  margin-left: 10px !important;\n  color: #252525;\n"]))),qr=Object(l.b)(x.a)(Vr||(Vr=jr(["\n  padding: 10px;\n  display: table-cell;\n"],["\n  padding: 10px;\n  display: table-cell;\n"]))),$r=Object(l.b)(Z.a)(Yr||(Yr=jr(["\n  margin: 5px !important;\n"],["\n  margin: 5px !important;\n"]))),ei=function(e){return c.a.createElement(x.a,{container:!0,direction:"column"},e.children)},ti=function(e){return c.a.createElement($r,{disabled:e.disabled,onClick:e.onClick,variant:"contained","data-cy":e.dataCy,className:e.className},e.label)},ni=Object(l.b)(qe.a)(zr||(zr=jr(["\n  margin: 0 10px !important;\n  color: black;\n"],["\n  margin: 0 10px !important;\n  color: black;\n"]))),ri=function(e){return c.a.createElement(qr,null,e.children)},ii=function(e){var t=e.children,n=e.color,r=e.title;return c.a.createElement(Mr,{backgroundColor:n},c.a.createElement(x.a,{item:!0,xs:4},c.a.createElement(Qr,{variant:"h6"},r)),c.a.createElement(x.a,{container:!0,item:!0,xs:8,alignItems:"center",justify:"flex-end"},t))},oi=function(e){var t=e.children,n=e.color,r=e.percentage,i=e.showAll,o=e.setShowAll,a=e.showAllDisabled,s=Object(A.a)()[0];return c.a.createElement(Mr,{backgroundColor:n},c.a.createElement(x.a,{style:{borderRight:"solid 1px lightgray"},item:!0,xs:3},c.a.createElement(Zr.a,{label:s("showAll"),style:{paddingLeft:"5px"},control:c.a.createElement(Br.a,{checked:i,disabled:a,onChange:function(){return null==o?void 0:o(!i)},color:"primary","data-cy":"show-all-results-checkbox"})})),c.a.createElement(x.a,{item:!0,xs:6},c.a.createElement(Or,{percentage:r})),c.a.createElement(x.a,{container:!0,item:!0,xs:3,alignItems:"center",justify:"flex-end"},t))},ai=function(e){var t=e.children,n=e.color,r=Object(A.a)()[0];return c.a.createElement(Mr,{backgroundColor:n},c.a.createElement(x.a,{style:{borderRight:"solid 1px lightgray"},item:!0,xs:3},c.a.createElement(Zr.a,{label:r("showAll"),style:{paddingLeft:"5px"},control:c.a.createElement(Br.a,{checked:!1,disabled:!0,color:"primary","data-cy":"show-all-results-checkbox"})})),c.a.createElement(x.a,{item:!0,xs:5}),c.a.createElement(x.a,{container:!0,item:!0,xs:4,alignItems:"center",justify:"flex-end"},t))},si=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ci=l.b.div(Hr||(Hr=si(["\n  max-height: ",";\n  min-height: 100px;\n  overflow: auto;\n"],["\n  max-height: ",";\n  min-height: 100px;\n  overflow: auto;\n"])),(function(e){return e.maxHeight&&"auto"!==e.maxHeight?e.maxHeight:"500px"})),li=c.a.forwardRef((function(e,t){var n=e.children,r=e.maxHeight,i=c.a.createRef(),o=function(){(null==i?void 0:i.current)&&(i.current.scrollTop=i.current.scrollHeight)},a=function(){(null==i?void 0:i.current)&&(i.current.scrollTop=0)};return Object(s.useImperativeHandle)(t,(function(){return{scrollToBottom:o,scrollToTop:a}})),c.a.createElement(ci,{maxHeight:r,ref:i},n)})),ui=li,di=function(e){var t=e.editorState,n=e.getPasteLink,r=e.onClose,i=e.outputContent,o=e.outputHeight,a=e.pasteDisabled,s=e.sendInput,l=Object(A.a)()[0],u=c.a.createRef(),d=t===Ye.WorkerInitializing,f=0!=(t&Ye.WorkerActive),p=t===Ye.WaitingInput;return c.a.createElement(ei,null,c.a.createElement(ii,{title:l("outputTitle"),color:p?br.Orange:br.Gray},p?c.a.createElement(c.a.Fragment,null,c.a.createElement(Yn.a,{icon:Vn.k}),c.a.createElement(ni,null,l("waitingForInput"))):f?c.a.createElement(c.a.Fragment,null,c.a.createElement(S.a,{size:25,color:"inherit",disableShrink:!0}),c.a.createElement(ni,null,l(d?"initializing":"running"))):null,c.a.createElement(xr,{getPasteUrl:n,pasteDisabled:f||a}),c.a.createElement(ti,{label:l("button.close"),onClick:r,dataCy:"close-btn"})),c.a.createElement(ri,null,c.a.createElement(ui,{maxHeight:o,ref:u},c.a.createElement(Xn,{inputRequested:p,outputContent:i,scrollToBottom:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.scrollToBottom()},sendInput:s}))))},fi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pi=function(){return(pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},hi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},gi=Object(l.b)((function(e){e.passed;var t=hi(e,["passed"]);return c.a.createElement(Pe.a,pi({},t))}))(Kr||(Kr=fi(["\n  border-left: 10px solid ",";\n  margin: 5px;\n  padding: 10px;\n"],["\n  border-left: 10px solid ",";\n  margin: 5px;\n  padding: 10px;\n"])),(function(e){return e.passed?"#4caf50":"#f44336"})),mi=Object(l.b)((function(e){e.passed;var t=hi(e,["passed"]);return c.a.createElement(qe.a,pi({},t))}))(Lr||(Lr=fi(["\n  color: ",";\n  font-weight: 700;\n"],["\n  color: ",";\n  font-weight: 700;\n"])),(function(e){return e.passed?"#4caf50":"#f44336"})),bi=function(e){var t,n,r,i=e.testName,o=e.passed,a=e.feedback,s=i.match(/(\w+)\.(\w+)$/),l=s?s[1]+": "+s[2]:i,u=o?"PASS":"FAIL";return c.a.createElement(gi,{passed:o,"data-cy":"test-result"},c.a.createElement(mi,{passed:o},u,": ",l),c.a.createElement("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},(n=(t=a).match(/^False is not true : ([\s\S]+)/i),r=t.match(/^True is not false : ([\s\S]+)/i),n?n[1]:r?r[1]:t)))},vi=function(e){var t=e.results,n=e.showAllTests,r=e.children;return t.testCases&&0!==t.testCases.length?c.a.createElement(x.a,{container:!0,direction:"row",justify:"space-between"},c.a.createElement(x.a,{item:!0,xs:12},r,function(){if(!n){var e=t.testCases.find((function(e){return!1===e.passed}));if(e)return c.a.createElement(bi,{key:e.id,testName:e.testName,passed:e.passed,feedback:e.feedback})}var r=t.testCases.map((function(e){return c.a.createElement(bi,{key:e.id,testName:e.testName,passed:e.passed,feedback:e.feedback})}));return c.a.createElement(c.a.Fragment,null,n&&r)}())):null},Ci=function(e){var t=e.getPasteLink,n=e.onClose,r=e.onSubmit,i=e.outputHeight,o=e.submitDisabled,a=e.testResults,l=Object(A.a)()[0],u=Object(s.useState)(!1),d=u[0],f=u[1],p=c.a.createRef(),h=vr(),g=Math.round(100*a.testCases.filter((function(e){return e.passed})).length/a.testCases.length),m=function(){return c.a.createElement(ti,{disabled:o,label:l("button.submit"),onClick:r,dataCy:"submit-btn",className:h.blueButton})};return c.a.createElement(ei,null,c.a.createElement(ii,{title:l("testResults"),color:br.Gray},c.a.createElement(xr,{getPasteUrl:t,pasteDisabled:o}),c.a.createElement(ti,{label:l("button.close"),onClick:n,dataCy:"close-btn"})),c.a.createElement(ri,null,c.a.createElement(ui,{maxHeight:i,ref:p},c.a.createElement(vi,{results:a,showAllTests:d},a.allTestsPassed&&c.a.createElement(Pe.a,{className:h.allTestsPassedPaper},c.a.createElement("h2",null,l("allTestsPassed")),c.a.createElement("p",null,l("rememberToSubmitToServer")),c.a.createElement(m,null))))),c.a.createElement(oi,{color:br.Gray,percentage:g,showAll:d,setShowAll:f,showAllDisabled:1===a.testCases.length},!a.allTestsPassed&&c.a.createElement(m,null)))},Ii=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},yi=function(){return(yi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},wi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ai=Object(l.b)($e.a)(Xr||(Xr=Ii(["\n  && {\n    margin-right: 10px;\n  }\n"],["\n  && {\n    margin-right: 10px;\n  }\n"]))),ki=Object(l.b)((function(e){e.points;var t=wi(e,["points"]);return c.a.createElement(Pe.a,yi({},t))}))(Pr||(Pr=Ii(["\n  border-left: 10px solid #4caf50;\n  margin: 5px;\n  padding: 10px;\n"],["\n  border-left: 10px solid #4caf50;\n  margin: 5px;\n  padding: 10px;\n"]))),xi=function(e){var t=e.points,n=Object(A.a)()[0];return c.a.createElement(ki,{points:!0,"data-cy":"submission-points"},n("pointsAwarded"),": ",t.map((function(e){return c.a.createElement(Ai,{key:e,label:e,variant:"outlined"})})))},Zi=function(e){var t,n=e.getPasteLink,r=e.onClose,i=e.onSubmit,o=e.testResults,a=e.pasteDisabled,l=e.outputHeight,u=Object(A.a)()[0],d=Object(s.useState)(!1),f=d[0],p=d[1],h=vr(),g=Math.round(100*o.testCases.filter((function(e){return e.passed})).length/o.testCases.length),m=c.a.createRef();return c.a.createElement(ei,null,c.a.createElement(ii,{title:u("submissionResult"),color:br.Gray},c.a.createElement(xr,{getPasteUrl:n,pasteDisabled:a}),c.a.createElement(ti,{label:u("button.close"),onClick:r,dataCy:"close-btn"})),c.a.createElement(ri,null,c.a.createElement(ui,{maxHeight:l,ref:m},c.a.createElement(vi,{results:o,showAllTests:f},o.points.length>0&&c.a.createElement(xi,{points:o.points})))),c.a.createElement(oi,{color:br.Gray,percentage:g,showAll:f,setShowAll:p,showAllDisabled:1===o.testCases.length&&null!==(t=!o.allTestsPassed)&&void 0!==t&&t},!o.allTestsPassed&&c.a.createElement(ti,{disabled:!1,label:u("button.submit"),onClick:i,dataCy:"submit-btn",className:h.blueButton})))},Bi=function(e){var t=e.onClose,n=e.outputHeight,r=e.problems,i=Object(A.a)()[0],o=c.a.createRef();return c.a.createElement(ei,null,c.a.createElement(ii,{title:i("problemsTitle"),color:br.Gray},c.a.createElement(ti,{label:i("button.close"),onClick:t,dataCy:"close-btn"})),c.a.createElement(ri,null,c.a.createElement(ui,{maxHeight:n,ref:o},i("incompatibleExerciseTemplate")," ",i("pleaseReportFollowingErrorsToCourseInstructor"),":",r.map((function(e,t){return c.a.createElement("div",{key:t},e)})))))},_i={prefix:"far",iconName:"eye",icon:[576,512,[],"f06e","M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"]},Si=function(e){var t=e.getPasteLink,n=e.onClose,r=Object(A.a)()[0],i=vr();return c.a.createElement(ei,null,c.a.createElement(ii,{title:r("submitting"),color:br.Gray},c.a.createElement(xr,{getPasteUrl:t,pasteDisabled:!0}),c.a.createElement(ti,{label:r("button.close"),onClick:n,disabled:!0,dataCy:"close-btn"})),c.a.createElement(ri,null,c.a.createElement("div",{style:{textAlign:"center",margin:"10px 0px"}},c.a.createElement(ni,{variant:"h5"},r("submittingToServer")),c.a.createElement(_r.a,{style:{width:"42%",margin:"0 auto"}}))),c.a.createElement(ai,{color:br.Gray},c.a.createElement(ti,{disabled:!0,label:r("button.submit"),dataCy:"submit-btn",className:i.blueButton})))},Ei=n("Xt1q"),Gi=n("dRu9"),Wi=n("wpWl"),Oi=n("4Hym"),ji={entering:{opacity:1},entered:{opacity:1}},Ni={enter:Wi.b.enteringScreen,exit:Wi.b.leavingScreen},Fi=s.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,i=void 0!==r&&r,o=e.in,a=e.onEnter,c=e.onEntered,l=e.onEntering,u=e.onExit,d=e.onExited,f=e.onExiting,p=e.style,h=e.TransitionComponent,g=void 0===h?Gi.a:h,m=e.timeout,b=void 0===m?Ni:m,v=Object(We.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),C=Object(it.a)(),I=C.unstable_strictMode&&!i,y=s.useRef(null),w=Object(lt.a)(n.ref,t),A=Object(lt.a)(I?y:void 0,w),k=function(e){return function(t,n){if(e){var r=I?[y.current,t]:[t,n],i=Object(ge.a)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},x=k(l),Z=k((function(e,t){Object(Oi.b)(e);var n=Object(Oi.a)({style:p,timeout:b},{mode:"enter"});e.style.webkitTransition=C.transitions.create("opacity",n),e.style.transition=C.transitions.create("opacity",n),a&&a(e,t)})),B=k(c),_=k(f),S=k((function(e){var t=Object(Oi.a)({style:p,timeout:b},{mode:"exit"});e.style.webkitTransition=C.transitions.create("opacity",t),e.style.transition=C.transitions.create("opacity",t),u&&u(e)})),E=k(d);return s.createElement(g,Object(tt.a)({appear:!0,in:o,nodeRef:I?y:void 0,onEnter:Z,onEntered:B,onEntering:x,onExit:S,onExited:E,onExiting:_,timeout:b},v),(function(e,t){return s.cloneElement(n,Object(tt.a)({style:Object(tt.a)({opacity:0,visibility:"exited"!==e||o?void 0:"hidden"},ji[e],p,n.props.style),ref:A},t))}))})),Ri=s.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.invisible,a=void 0!==o&&o,c=e.open,l=e.transitionDuration,u=e.TransitionComponent,d=void 0===u?Fi:u,f=Object(We.a)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return s.createElement(d,Object(tt.a)({in:c,timeout:l},f),s.createElement("div",{className:Object(nt.a)(r.root,i,a&&r.invisible),"aria-hidden":!0,ref:t},n))})),Ti=Object(rt.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Ri),Vi={enter:Wi.b.enteringScreen,exit:Wi.b.leavingScreen},Yi=s.forwardRef((function(e,t){var n=e.BackdropProps,r=e.children,i=e.classes,o=e.className,a=e.disableBackdropClick,c=void 0!==a&&a,l=e.disableEscapeKeyDown,u=void 0!==l&&l,d=e.fullScreen,f=void 0!==d&&d,p=e.fullWidth,h=void 0!==p&&p,g=e.maxWidth,m=void 0===g?"sm":g,b=e.onBackdropClick,v=e.onClose,C=e.onEnter,I=e.onEntered,y=e.onEntering,w=e.onEscapeKeyDown,A=e.onExit,k=e.onExited,x=e.onExiting,Z=e.open,B=e.PaperComponent,_=void 0===B?Pe.a:B,S=e.PaperProps,E=void 0===S?{}:S,G=e.scroll,W=void 0===G?"paper":G,O=e.TransitionComponent,j=void 0===O?Fi:O,N=e.transitionDuration,F=void 0===N?Vi:N,R=e.TransitionProps,T=e["aria-describedby"],V=e["aria-labelledby"],Y=Object(We.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),z=s.useRef();return s.createElement(Ei.a,Object(tt.a)({className:Object(nt.a)(i.root,o),BackdropComponent:Ti,BackdropProps:Object(tt.a)({transitionDuration:F},n),closeAfterTransition:!0,disableBackdropClick:c,disableEscapeKeyDown:u,onEscapeKeyDown:w,onClose:v,open:Z,ref:t},Y),s.createElement(j,Object(tt.a)({appear:!0,in:Z,timeout:F,onEnter:C,onEntering:y,onEntered:I,onExit:A,onExiting:x,onExited:k,role:"none presentation"},R),s.createElement("div",{className:Object(nt.a)(i.container,i["scroll".concat(Object(ut.a)(W))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===z.current&&(z.current=null,b&&b(e),!c&&v&&v(e,"backdropClick"))},onMouseDown:function(e){z.current=e.target}},s.createElement(_,Object(tt.a)({elevation:24,role:"dialog","aria-describedby":T,"aria-labelledby":V},E,{className:Object(nt.a)(i.paper,i["paperScroll".concat(Object(ut.a)(W))],i["paperWidth".concat(Object(ut.a)(String(m)))],E.className,f&&i.paperFullScreen,h&&i.paperFullWidth)}),r))))})),zi=Object(rt.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(he.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(he.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(he.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(he.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(he.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(Yi),Hi=s.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,i=e.classes,o=e.className,a=Object(We.a)(e,["disableSpacing","classes","className"]);return s.createElement("div",Object(tt.a)({className:Object(nt.a)(i.root,o,!r&&i.spacing),ref:t},a))})),Ki=Object(rt.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(Hi),Li=s.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.dividers,o=void 0!==i&&i,a=Object(We.a)(e,["classes","className","dividers"]);return s.createElement("div",Object(tt.a)({className:Object(nt.a)(n.root,r,o&&n.dividers),ref:t},a))})),Xi=Object(rt.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(Li),Pi=s.forwardRef((function(e,t){return s.createElement(qe.a,Object(tt.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),Di=Object(rt.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(Pi),Ui=s.forwardRef((function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.disableTypography,a=void 0!==o&&o,c=Object(We.a)(e,["children","classes","className","disableTypography"]);return s.createElement("div",Object(tt.a)({className:Object(nt.a)(r.root,i),ref:t},c),a?n:s.createElement(qe.a,{component:"h2",variant:"h6"},n))})),Ji=Object(rt.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Ui),Mi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Qi=function(){return(Qi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},qi=Object(l.b)((function(e){return c.a.createElement(Z.a,Qi({variant:"contained"},e))}))(Dr||(Dr=Mi(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),$i=function(e){var t=e.resetExercise,n=Object(s.useState)(!1),r=n[0],i=n[1],o=Object(A.a)()[0],a=vr(),l=function(){i(!1)};return c.a.createElement("div",{style:{display:"inline"}},c.a.createElement(qi,{"data-cy":"reset-btn",className:a.normalButton,onClick:function(){i(!0)}},o("button.reset")),c.a.createElement(zi,{open:r,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(Ji,{id:"alert-dialog-title"},o("resetExerciseHeader")),c.a.createElement(Xi,null,c.a.createElement(Di,{id:"alert-dialog-description"},o("resetExerciseConfirmation"),c.a.createElement("br",null),o("resetExerciseNotify"))),c.a.createElement(Ki,null,c.a.createElement(Z.a,{onClick:l,color:"primary",autoFocus:!0},o("button.cancel")),c.a.createElement(Z.a,{"data-cy":"reset-btn-ok",onClick:function(){t(),i(!1)},color:"primary"},o("button.ok")))))},eo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},to=function(){return(to=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},no=Object(l.b)(x.a)(Ur||(Ur=eo(["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"],["\n  padding: 5px;\n  display: table-cell;\n  min-height: 100px;\n  overflow: auto;\n  white-space: pre-wrap;\n"]))),ro=Object(l.b)((function(e){return c.a.createElement(Z.a,to({variant:"contained"},e))}))(Jr||(Jr=eo(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),io={fullName:"",shortName:"",originalContent:"",content:""},oo=function(e){var t=e.submitFeedback,n=e.submitProgrammingExercise,r=e.submitToPaste,i=e.debug,o=e.initialFiles,a=e.problems,l=e.testSource,u=e.submitDisabled,d=e.solutionUrl,f=e.resetExercise,p=e.editorHeight,h=e.outputHeight,g=e.ready,m=void 0===g||g,b=Object(A.a)()[0],v=Object(s.useState)([]),C=v[0],I=v[1],y=Object(s.useState)(),w=y[0],k=y[1],x=Object(s.useState)(!0),Z=x[0],G=x[1],W=Object(s.useState)([io]),O=W[0],j=W[1],N=Object(s.useState)(io),F=N[0],R=N[1],T=Object(s.useState)(!1),V=T[0],Y=T[1],z=Object(s.useState)(),H=z[0],K=z[1],L=pn({debug:i})[0],X=c.a.createRef(),P=Object(s.useState)(Ye.Initializing),D=P[0],U=P[1],J=vr();function M(e){if(Z){var t="\n__webeditor_module_source = "+function(e){return'"""\nimport base64\ncode = base64.b64decode("'+hn.a.encode(e)+'").decode("utf-8")\n"""'}(null!=e?e:F.content)+"\n"+l+"\n";I([]),k(void 0),G(!1),U(Ye.WorkerInitializing),L.postMessage({type:"run_tests",msg:{code:t,debug:i}})}else console.log("Worker is busy")}var Q=function(){U(Ye.Submitting),k(void 0)};L.setMessageListener((function(e){var t=e.data,n=t.type,r=t.msg;switch(n){case"print":I(C.concat({id:Object(Qe.a)(),type:"output",text:r}));break;case"input_required":U(Ye.WaitingInput);break;case"error":console.error(r),I(C.concat({id:Object(Qe.a)(),type:"error",text:r})),G(!0),L.recycle();break;case"ready":G(!0);break;case"print_batch":if(D===Ye.ExecutingCode){var i=r.map((function(e){return{id:Object(Qe.a)(),type:"output",text:e}}));I((function(e){return e.concat(i)}))}break;case"print_done":U((function(e){switch(e){case Ye.Testing:return(null==w?void 0:w.allTestsPassed)&&!u&&Q(),Ye.ShowTestResults;default:return Ye.Idle}})),L.recycle();break;case"test_results":var o=function(e){return e.map((function(e,t){var n,r,i,o=null!==(n=e.message)&&void 0!==n?n:"null",a=null!==(r=e.passed)&&void 0!==r&&r,s=null!==(i=e.name)&&void 0!==i?i:"noTestName";return{id:t.toString(),feedback:o,passed:a,testName:s}}))}(r);I([]),k({allTestsPassed:o.every((function(e){return e.passed})),points:[],testCases:o});break;case"start_run":U(Ye.ExecutingCode);break;case"start_test":U(Ye.Testing)}}));var q=function(e){D===Ye.WaitingInput&&(U(Ye.ExecutingCode),I(C.concat({id:Object(Qe.a)(),type:"input",text:e+"\n"})),L.postMessage({type:"input",msg:e}))},$=function(e,t){R(ee(e,t))},ee=function(e,t){return t.filter((function(t){return t.shortName===e}))[0]};Object(s.useEffect)((function(){j(o),$(o[0].shortName,o)}),[o]),Object(s.useEffect)((function(){switch(i&&console.log(Ye[D]),D){case Ye.Submitting:n(O).then((function(e){ne(),k(e),I([]),U(e.allTestsPassed?Ye.ShowPassedFeedbackForm:Ye.ShowSubmissionResults)}));break;case Ye.ExecutingCode:case Ye.Testing:var e=b("infiniteLoopMessage"),t=setTimeout((function(){I([{id:Object(Qe.a)(),type:"output",text:e}]),te()}),1e4);K(t);break;case Ye.Resetting:f().then((function(){j(o),U(Ye.Idle)}));break;case Ye.Idle:case Ye.RunAborted:case Ye.ShowTestResults:case Ye.WaitingInput:H&&clearTimeout(H)}}),[D]);var te=function(){Z||L.terminate(),L.postMessage({type:"stop"}),U(Ye.RunAborted),G(!0)},ne=function(){var e;te(),null===(e=X.current)||void 0===e||e.close(),U(Ye.Idle),I([])},re=window.StyleMedia&&-1!==window.navigator.userAgent.indexOf("Edge"),ie=0==(D&(Ye.WorkerActive|Ye.Submitting));return c.a.createElement("div",{style:{position:"relative",width:"inherit"}},re&&c.a.createElement(Kt,null,c.a.createElement(no,null,b("browserNotSupported"),c.a.createElement("ul",null,c.a.createElement("li",null,"Google Chrome"),c.a.createElement("li",null,"Firefox"),c.a.createElement("li",null,"Safari")))),D===Ye.ShowPassedFeedbackForm&&c.a.createElement(rn,{awardedPoints:null==w?void 0:w.points,onSubmitFeedback:function(e){U(Ye.ShowSubmissionResults),w&&(t(w,e),e.length>0&&Y(!0))},onClose:function(){return U(Ye.ShowSubmissionResults)},solutionUrl:null==w?void 0:w.solutionUrl,feedbackQuestions:null==w?void 0:w.feedbackQuestions}),O.length>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{id:"label"},b("selectFile")),c.a.createElement(_.a,{labelId:"label",native:!0,value:F.shortName,onChange:function(e){return $(e.target.value,O)},"data-cy":"select-file"},c.a.createElement(c.a.Fragment,null,O.map((function(e){var t=e.shortName;return c.a.createElement("option",{key:t,value:t},t)}))))),!m&&c.a.createElement(Lt,null,c.a.createElement(S.a,{thickness:5,color:"inherit"})),c.a.createElement(Xe,{editorValue:F.content,setEditorValue:function(e){return t=e,D!==Ye.Resetting&&(F.content=t,localStorage.setItem(F.fullName,JSON.stringify({createdAtMillis:Date.now(),content:t}))),void j((function(e){return e.map((function(e){return e.shortName===F.shortName?to(to({},e),{content:F.content}):e}))}));var t},editorHeight:p,setIsEditorReady:function(e){return U(e?Ye.Idle:Ye.Initializing)}}),c.a.createElement("div",{style:{padding:"0.6em 0em"}},0==(D&Ye.WorkerActive)?c.a.createElement(ro,{onClick:function(){var e;Z?(I([]),k(void 0),G(!1),U(Ye.WorkerInitializing),L.postMessage({type:"run",msg:{code:null!=e?e:F.content,debug:i}})):console.log("Worker is busy")},className:J.runButton,disabled:!(Z&&ie),"data-cy":"run-btn"},c.a.createElement(Yn.a,{icon:Vn.p}),c.a.createElement("span",{className:J.whiteText},b("runButtonText"))):c.a.createElement(ro,{className:J.stopButton,onClick:function(){return te()},"data-cy":"stop-btn"},c.a.createElement(Yn.a,{icon:Vn.s}),c.a.createElement("span",{className:J.whiteText},b("stopButtonText"))),c.a.createElement(ro,{onClick:function(){return M()},disabled:!(l&&ie),className:J.testButton,"data-cy":"test-btn"},c.a.createElement(Yn.a,{icon:_i}),c.a.createElement("span",{style:{paddingLeft:"5px"}},b("testButtonText"))),c.a.createElement($i,{resetExercise:function(){U(Ye.Resetting),I([]),k(void 0)}}),d&&c.a.createElement(ro,{className:J.normalButton,onClick:function(){return window.open(d,"_blank")}},b("modelSolution")),a&&a.length>0&&c.a.createElement(ro,{onClick:function(){var e;U(Ye.ShowProblems),null===(e=X.current)||void 0===e||e.open()},disabled:(D&Ye.WorkerActive)>0,className:J.problemsButton,"data-cy":"problems-btn"},c.a.createElement(Yn.a,{icon:Vn.l}),c.a.createElement("span",{className:J.whiteText},b("problemsTitle")+" ("+a.length+")"))),c.a.createElement(Me,{isRunning:(D&Ye.WorkerActive)>0,outputHeight:h,ref:X},function(){switch(D){case Ye.ShowTestResults:return c.a.createElement(Ci,{getPasteLink:function(){return r(O)},onClose:ne,outputHeight:h,onSubmit:function(){return Q()},submitDisabled:u,testResults:null!=w?w:{points:[],testCases:[]}});case Ye.ShowPassedFeedbackForm:case Ye.ShowSubmissionResults:return c.a.createElement(Zi,{onClose:ne,onSubmit:function(){return Q()},testResults:null!=w?w:{points:[],testCases:[]},getPasteLink:function(){return r(O)},pasteDisabled:u,outputHeight:h});case Ye.Submitting:return c.a.createElement(Si,{onClose:ne,getPasteLink:function(){return r(O)},pasteDisabled:!0});case Ye.ShowProblems:return c.a.createElement(Bi,{onClose:ne,problems:null!=a?a:[],outputHeight:h});default:return c.a.createElement(di,{editorState:D,getPasteLink:function(){return r(O)},onClose:ne,outputContent:C,outputHeight:h,pasteDisabled:u,sendInput:q})}}()),i&&c.a.createElement("div",null,Ye[D]),c.a.createElement(E.a,{open:V,autoHideDuration:5e3,onClose:function(e,t){"clickaway"!==t&&Y(!1)},message:b("thankYouForFeedback"),anchorOrigin:{vertical:"bottom",horizontal:"center"},key:"bottom-center"}))},ao='# No ProgrammingExercise has been loaded.\n# This is the default file main.py\n\nfrom .utils import greeting, getLocality\n\ndef greetWorld():\n  print(greeting(getLocality()))\n\ndef foo():\n  print("foo!")\n',so="# No ProgrammingExercise has been loaded.\n# This is the default file test.py\n\nfrom .main import greetWorld\n\ngreetWorld()\n",co='# No ProgrammingExercise has been loaded.\n# This is the default file utils.py\n\n# Mutually recursive imports are disallowed.\n# Try uncommenting the line below!\n#from .main import foo\n\ndef greeting(recipient):\n  return "Hello " + recipient + "!"\n\ndef getLocality():\n  return "world"\n';oo.defaultProps={submitProgrammingExercise:function(){return Promise.resolve({points:[],testCases:[]})},submitToPaste:function(){return Promise.resolve("default paste called")},initialFiles:[{fullName:"main.py",shortName:"main.py",originalContent:ao,content:ao},{fullName:"utils.py",shortName:"utils.py",originalContent:co,content:co},{fullName:"test.py",shortName:"test.py",originalContent:so,content:so}]};var lo,uo,fo=n("vDqi"),po=n.n(fo),ho=n("xOOu"),go=n.n(ho),mo=function(){return(mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},bo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},vo=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Co="https://tmc.mooc.fi/api/v8",Io=function(e,t){return mo(mo({},t),{Authorization:"Bearer "+e,client:"moocfi_python_editor",client_version:cn})},yo=function(e,t){return bo(void 0,void 0,void 0,(function(){var n,r,i,o,a,s;return vo(this,(function(c){switch(c.label){case 0:n=t.t,r=t.token,c.label=1;case 1:return c.trys.push([1,4,,5]),i=new go.a,[4,po.a.get(e,{headers:Io(r),responseType:"arraybuffer"})];case 2:return o=c.sent(),[4,i.loadAsync(o.data)];case 3:return[2,c.sent()];case 4:throw a=c.sent(),(null===(s=null==a?void 0:a.response)||void 0===s?void 0:s.status)?new Error(a.response.status+": "+n("failedToDownloadExercise")):new Error("418: "+n("failedToEstablishConnectionToServer"));case 5:return[2]}}))}))},wo=function(e,t,n,r){return bo(void 0,void 0,void 0,(function(){var i,o,a,s,c,l,u,d,f;return vo(this,(function(p){switch(p.label){case 0:i=r.t,o=r.token,a=Co+"/org/"+e+"/courses/"+t+"/exercises/"+n,s=Io(o),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,po.a.get(a,{headers:s,responseType:"json"})];case 2:return[2,{id:(c=p.sent().data).id,availablePoints:null===(u=c.available_points)||void 0===u?void 0:u.length,awardedPoints:null===(d=c.awarded_points)||void 0===d?void 0:d.length,completed:c.completed,deadline:c.deadline,expired:c.expired,softDeadline:c.soft_deadline}];case 3:throw l=p.sent(),(null===(f=null==l?void 0:l.response)||void 0===f?void 0:f.status)?new Error(l.response.status+": "+i("couldNotFindExerciseDetails")):new Error("418: "+i("failedToEstablishConnectionToServer"));case 4:return[2]}}))}))},Ao=function(e,t,n,r){return bo(void 0,void 0,void 0,(function(){return vo(this,(function(i){return[2,yo(Co+"/org/"+e+"/courses/"+t+"/exercises/"+n+"/download",r)]}))}))},ko=function(e,t){return bo(void 0,void 0,void 0,(function(){return vo(this,(function(n){return[2,yo(Co+"/core/submissions/"+e+"/download",t)]}))}))},xo=function(e,t,n,r){return bo(void 0,void 0,void 0,(function(){var i,o,a,s,c,l,u,d,f,p,h,g,m;return vo(this,(function(b){switch(b.label){case 0:return i=n.t,o=n.token,a=Io(o,{"Content-Type":"multipart/form-data"}),s=(null==r?void 0:r.paste)||!1,c=new go.a,t.forEach((function(e){c.file(e.fullName,e.content)})),l=new FormData,s&&l.append("paste","1"),d=(u=l).append,f=["submission[file]"],[4,c.generateAsync({type:"blob"})];case 1:d.apply(u,f.concat([b.sent()])),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,po.a.post(Co+"/core/exercises/"+e+"/submissions",l,{headers:a})];case 3:return p=b.sent(),[2,{pasteUrl:s?p.data.paste_url:void 0,showSubmissionUrl:p.data.show_submission_url,submissionUrl:p.data.submission_url}];case 4:throw h=b.sent(),g=h.response.status,m=i(403===g?"authenticationRequired":"submissionProcessFailed"),console.error(h.response),new Error(g+": "+m);case 5:return[2]}}))}))},Zo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Bo=Object(l.b)(x.a)(lo||(lo=Zo(["\n  background-color: #e8e8e8;\n  color: #ff9800;\n  border-radius: 3px 3px;\n  padding: 12px;\n  font-size: 1rem;\n"],["\n  background-color: #e8e8e8;\n  color: #ff9800;\n  border-radius: 3px 3px;\n  padding: 12px;\n  font-size: 1rem;\n"]))),_o=l.b.span(uo||(uo=Zo(["\n  margin-left: 10px;\n  color: black;\n"],["\n  margin-left: 10px;\n  color: black;\n"]))),So=function(e){var t=e.children;switch(e.style){case"warning":default:return c.a.createElement(Bo,null,c.a.createElement(Yn.a,{icon:Vn.m}),c.a.createElement(_o,null,t))}},Eo=function(){return(Eo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Go=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Wo=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Oo=function(e){var t=e.onExerciseDetailsChange,n=e.organization,r=e.course,i=e.debug,o=e.exercise,a=e.token,l=e.height,u=e.outputHeight,d=e.language,f=void 0===d?"en":d,p=function(e){void 0===e&&(e=1e3);var t=Object(s.useState)(k()),n=t[0],r=t[1];return Object(s.useEffect)((function(){var t=setInterval((function(){return r(k())}),e);return function(){return clearInterval(t)}}),[e,setInterval,clearInterval,r,k]),n}(1e4),h=Object(A.a)(),g=h[0],m=h[1],b=Object(s.useState)(!1),v=b[0],C=b[1],I=Object(s.useState)(void 0),y=I[0],x=I[1],Z=Object(s.useState)([io]),B=Z[0],_=Z[1],S=Object(s.useState)(),E=S[0],G=S[1],W=Object(s.useState)(!1),O=W[0],j=W[1],N=Object(s.useState)(),F=N[0],R=N[1],T={t:g,token:a};return Object(s.useEffect)((function(){F&&F.deadline&&!F.expired&&p>=w.DateTime.fromISO(F.deadline)&&wo(n,r,o,T).then((function(e){return R(e)})).catch()}),[p]),Object(s.useEffect)((function(){null==t||t(F)}),[F]),Object(s.useEffect)((function(){m.changeLanguage(f)}),[f]),Object(s.useEffect)((function(){C(!1);var e=""!==a&&null!==a;j(e),function(e){return Go(void 0,void 0,void 0,(function(){var t,i,a,s,c,l,u,d,f,p;return Wo(this,(function(h){switch(h.label){case 0:t=function(e){return[Eo(Eo({},io),{content:"# "+e})]},R(void 0),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Ao(n,r,o,T)];case 2:return i=h.sent(),[3,4];case 3:return a=h.sent(),_(t(a.message)),[2];case 4:return[4,xn(i,T)];case 5:s=h.sent(),x(s.problems),G(s.testSource),h.label=6;case 6:return h.trys.push([6,8,,9]),[4,wo(n,r,o,T)];case 7:return c=h.sent(),[3,9];case 8:return l=h.sent(),_(t(l.message)),[2];case 9:if(R(c),!e)return _(s.srcFiles),[2];u=function(){s.srcFiles.forEach((function(e){var t=localStorage.getItem(e.fullName);if(t){var n=JSON.parse(t);e.content=n.content}}))},h.label=10;case 10:return h.trys.push([10,14,,15]),[4,(g=c.id,m=T,bo(void 0,void 0,void 0,(function(){var e,t,n,r,i,o,a,s;return vo(this,(function(c){switch(c.label){case 0:e=m.t,t=m.token,n=Co+"/exercises/"+g+"/users/current/submissions",r=Io(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,po.a.get(n,{headers:r,responseType:"json"})];case 2:return o=c.sent(),i=o.data,[3,4];case 3:throw a=c.sent(),new Error(a.response.status+": "+e("failedToDownloadExercise"));case 4:if(i.length<=0)throw new Error("9001: No submissions found");return[2,(s=i.map((function(e){return{id:e.id,createdAtMillis:Date.parse(e.created_at)}}))).reduce((function(e,t){return t.createdAtMillis>e.createdAtMillis?t:e}),s[0])]}}))})))];case 11:return d=h.sent(),s.srcFiles.some((function(e){var t=localStorage.getItem(e.fullName);if(t&&JSON.parse(t).createdAtMillis>d.createdAtMillis)return!0}))?(u(),_(s.srcFiles),[2]):[4,ko(d.id,T)];case 12:return f=h.sent(),[4,xn(f,T)];case 13:return(p=h.sent()).srcFiles.length>0?(p.srcFiles.forEach((function(e){var t=s.srcFiles.find((function(t){return t.fullName===e.fullName}));t&&(e.originalContent=t.originalContent)})),_(p.srcFiles),[2]):(u(),_(s.srcFiles),[3,15]);case 14:return h.sent(),u(),_(s.srcFiles),[3,15];case 15:return[2]}var g,m}))}))}(e).finally((function(){return C(!0)}))}),[a]),c.a.createElement("div",null,!O&&c.a.createElement(So,{style:"warning"},g("signInToSubmitExercise")),(null==F?void 0:F.expired)&&c.a.createElement(So,{style:"warning"},g("deadlineExpired")),c.a.createElement(oo,{debug:i,initialFiles:B,problems:y,submitFeedback:function(e,t){e.feedbackAnswerUrl&&t.length>0&&function(e,t,n){bo(void 0,void 0,void 0,(function(){var r,i,o,a;return vo(this,(function(s){switch(s.label){case 0:if(r=n.token,i=Io(r,{"Content-Type":"multipart/form-data"}),!e.feedbackAnswerUrl||""===e.feedbackAnswerUrl)return[2];o=new FormData,t.forEach((function(e,t){o.append("answers["+t+"][question_id]",e.questionId.toString()),o.append("answers["+t+"][answer]",e.answer.toString())})),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,po.a.post(e.feedbackAnswerUrl,o,{headers:i})];case 2:return s.sent(),[2];case 3:throw a=s.sent(),new Error(a.response.status+": "+JSON.parse(a.response));case 4:return[2]}}))}))}(e,t,T)},testSource:E,submitProgrammingExercise:function(e){return Go(void 0,void 0,void 0,(function(){var t,i,a,s,c;return Wo(this,(function(l){switch(l.label){case 0:if(t=function(e){return{points:[],testCases:[{id:"0",testName:"Exercise submission",passed:!1,feedback:"Error "+e}]}},!F)return[2,t("418: Exercise details missing")];l.label=1;case 1:return l.trys.push([1,7,,8]),[4,xo(F.id,e,T)];case 2:i=l.sent(),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,(u=i,d=T,bo(void 0,void 0,void 0,(function(){var e,t,n,r,i,o,a,s;return vo(this,(function(c){switch(c.label){case 0:e=d.t,t=d.token,n=Io(t),r=function(t){var r,i,o,a,s;return vo(this,(function(c){switch(c.label){case 0:return[4,new Promise((function(e){return setTimeout(e,t)}))];case 1:c.sent(),r=void 0,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,po.a.get(u.submissionUrl,{headers:n,responseType:"json"})];case 3:return r=c.sent().data,[3,5];case 4:return i=c.sent(),console.error(i.response),r={status:"error",statusCode:i.response.status},[3,5];case 5:if("error"===r.status)throw new Error(r.statusCode+": "+e("submissionProcessFailed"));return"processing"!==r.status?(o=r.test_cases,a=o.map((function(e,t){return{id:t.toString(),testName:e.name,passed:e.successful,feedback:e.message}})),s=r.points,[2,{value:{allTestsPassed:r.all_tests_passed,points:s,testCases:a,feedbackQuestions:r.feedback_questions,feedbackAnswerUrl:r.feedback_answer_url,solutionUrl:r.solution_url}}]):[2]}}))},i=0,o=[2e3,2e3,1e3,1e3,1e3,2e3,2e3,4e3,8e3,16e3],c.label=1;case 1:return i<o.length?(a=o[i],[5,r(a)]):[3,4];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return i++,[3,1];case 4:throw new Error("418: "+e("submissionTookTooLong"))}}))})))];case 4:return a=l.sent(),wo(n,r,o,T).then((function(e){return R(e)})),[2,a];case 5:return s=l.sent(),R(void 0),[2,t(s.message)];case 6:return[3,8];case 7:return c=l.sent(),[2,t(c.message)];case 8:return[2]}var u,d}))}))},submitToPaste:function(e){return Go(void 0,void 0,void 0,(function(){var t,n,r;return Wo(this,(function(i){switch(i.label){case 0:if(!F)return[2,""];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,xo(F.id,e,T,{paste:!0})];case 2:return t=i.sent(),[2,null!==(r=t.pasteUrl)&&void 0!==r?r:""];case 3:return n=i.sent(),[2,Promise.reject(n.message)];case 4:return[2]}}))}))},submitDisabled:(null==F?void 0:F.expired)||!O,resetExercise:function(){return Go(void 0,void 0,void 0,(function(){return Wo(this,(function(e){return B.forEach((function(e){e.content=e.originalContent,localStorage.removeItem(e.fullName)})),[2]}))}))},editorHeight:l,outputHeight:u,solutionUrl:(null==F?void 0:F.completed)||(null==F?void 0:F.expired)?"https://tmc.mooc.fi/exercises/"+F.id+"/solution":void 0,ready:v}))},jo=function(){return(jo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},No=function(e){return c.a.createElement(b,{i18n:y},c.a.createElement(Oo,jo({},e)))},Fo=n("iCRf"),Ro=n.n(Fo),To=Ro.a.tmcOrganization,Vo=Ro.a.tmcCourse,Yo="en";"fi"===Ro.a.language&&(Yo="fi");var zo=l.b.div.withConfig({displayName:"MoocfiPythonEditorLoader__Wrapper",componentId:"sc-1rxmhjf-0"})(["padding 1rem;"]),Ho=Object(l.b)(qe.a).withConfig({displayName:"MoocfiPythonEditorLoader__StyledDeadlineText",componentId:"sc-1rxmhjf-1"})(["padding:0.25rem 0 1rem 0 !important;color:rgb(108,117,125) !important;font-size:0.8rem !important;font-weight:bold !important;"]),Ko=Object(l.b)(Yn.a).withConfig({displayName:"MoocfiPythonEditorLoader__StyledIcon",componentId:"sc-1rxmhjf-2"})(["font-size:0.9rem !important;margin-right:0.25em !important;vertical-align:-0.1em !important;"]),Lo=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={exerciseDetails:void 0,render:!1},t.onUpdate=function(e){t.setState({exerciseDetails:e})},t}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({render:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.render=function(){var e=this,t=this.props,n=t.t,r=t.name,i=t.tmcname,o=t.children,a=t.height,s=t.outputheight,l=t.outputposition,u=t.difficulty;if(!this.state.render)return c.a.createElement("div",null,"Loading");var d=c.a.createElement("div",{style:{padding:"1rem",textAlign:"center"}},c.a.createElement("p",null,n("loginToAttemptExercise")),c.a.createElement(f.a,null)),p=this.state.exerciseDetails,m=null!=p&&p.deadline?new Date(p.deadline):null;return c.a.createElement(g.a,{name:r,points:null==p?void 0:p.availablePoints,awardedPoints:null==p?void 0:p.awardedPoints,allowRefresh:!1,completed:(null==p?void 0:p.completed)||!1,difficulty:u},c.a.createElement("div",null,m instanceof Date&&!isNaN(m.getTime())&&c.a.createElement(Ho,null,c.a.createElement(Ko,{icon:Vn.i}),"Deadline: "+m.toLocaleString("en-GB")),c.a.createElement(zo,null,o),this.context.loggedIn?c.a.createElement(No,{onExerciseDetailsChange:function(t){return e.onUpdate(t)},organization:To,course:Vo,exercise:i,token:Object(h.a)(),height:a||"300px",outputHeight:s||"auto",outputPosition:l||"relative",language:Yo}):d))},t}(c.a.Component);Lo.contextType=d.b;t.default=Object(u.a)("common")(Object(p.a)(Lo))},xKyf:function(e){e.exports=JSON.parse('{"button":{"cancel":"Cancel","close":"Close","copy":"Copy","ok":"Yes","reset":"Reset","run":"Run","stop":"Stop","submit":"Submit","send":"Send"},"allTestsPassed":"All tests passed!","authenticationRequired":"Authentication required","browserNotSupported":"Programming exercises do not support Microsoft Edge browser.\\nYou can use one of the following browsers to complete the exercises:","copiedConfirmation":"Copied!","couldNotFindExerciseDetails":"Could not find exercise details.","deadlineExpired":"Exercise deadline exceeded.","dontSend":"Don\'t send","enterInputAndPressEnter":"Enter input and press \\"Enter\\"","failedToEstablishConnectionToServer":"Failed to establish a connection to TestMyCode Server.","failedToDownloadExercise":"Failed to download exercise.","feedbackTitle":"Exercise completed, congratulations!","incompatibleExerciseTemplate":"Incompatible exercise template.","infiniteLoopMessage":"Make sure you don\'t have an infinite loop in your code.","initializing":"Initializing","malformedExerciseTemplate":"Malformed exercise template","modelSolution":"Model solution","needHelp":"Need help?","noExerciseFilesFound":"No exercise files found in the exercise template.","outputTitle":"Output","pleaseGiveFeedback":"If you wish, you can give feedback on the assignment to help develop the course.","pleaseReportFollowingErrorsToCourseInstructor":"Please report following errors to your course instructor","pointsAwarded":"Points awarded","problemsTitle":"Problems","rememberToSubmitToServer":"Remember to submit your solution for evaluation.","resetExerciseConfirmation":"Are you sure you want to reset the exercise to its initial state?","resetExerciseNotify":"This operation will remove all your code.","resetExerciseHeader":"Reset exercise template","running":"Running","runButtonText":"RUN","sendToTmcPaste":"Send to TMC Paste","selectFile":"Select File","showAll":"Show all","signInToSubmitExercise":"Sign in to submit exercise","stopButtonText":"STOP","submissionProcessFailed":"Submission process failed","submissionResult":"Submissions Results","submissionTookTooLong":"Submission was taking a really long time.\\nPlease make sure your code doesn\'t have an infinite loop.","submitToServerQuestion":"Submit exercise?","submitting":"Submitting","submittingToServer":"Submitting exercise","testing":"Testing","testButtonText":"TEST","testResults":"Test Results","testsPassed":"Tests passed","thankYouForFeedback":"Thank you for your feedback!","tmcPasteDescription":"You can submit your code to TMC Paste and share the link to the course discussion channel and ask for help.","viewModelSolution":"View model solution","waitingForInput":"Waiting for input"}')},xOOu:function(e,t,n){(function(t,r,i){n("p532"),e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,s,c,l,u=[],d=0,f=e.length,p=f,h="string"!==r.getTypeOf(e);d<e.length;)p=f-d,i=h?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,c=1<p?(15&n)<<2|i>>6:64,l=2<p?63&i:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(c)+o.charAt(l));return u.join("")},n.decode=function(e){var t,n,r,a,s,c,l=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&p--,e.charAt(e.length-2)===o.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|p):new Array(0|p);l<e.length;)t=o.indexOf(e.charAt(l++))<<2|(a=o.indexOf(e.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=o.indexOf(e.charAt(l++))),f[u++]=t,64!==s&&(f[u++]=n),64!==c&&(f[u++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),a=e("./stream/Crc32Probe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}o=e("./stream/DataLengthProbe"),s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,n,r){var o=i,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,u){var d,f,p=e.file,h=e.compression,g=u!==s.utf8encode,m=o.transformTo("string",u(p.name)),b=o.transformTo("string",s.utf8encode(p.name)),v=p.comment,C=o.transformTo("string",u(v)),I=o.transformTo("string",s.utf8encode(v)),y=b.length!==p.name.length,w=I.length!==v.length,A="",k="",x="",Z=p.dir,B=p.date,_={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(_.crc32=e.crc32,_.compressedSize=e.compressedSize,_.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),g||!y&&!w||(S|=2048);var E=0,G=0;Z&&(E|=16),"UNIX"===a?(G=798,E|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,Z)):(G=20,E|=function(e){return 63&(e||0)}(p.dosPermissions)),d=B.getUTCHours(),d<<=6,d|=B.getUTCMinutes(),d<<=5,d|=B.getUTCSeconds()/2,f=B.getUTCFullYear()-1980,f<<=4,f|=B.getUTCMonth()+1,f<<=5,f|=B.getUTCDate(),y&&(k=r(1,1)+r(c(m),4)+b,A+="up"+r(k.length,2)+k),w&&(x=r(1,1)+r(c(C),4)+I,A+="uc"+r(x.length,2)+x);var W="";return W+="\n\0",W+=r(S,2),W+=h.magic,W+=r(d,2),W+=r(f,2),W+=r(_.crc32,4),W+=r(_.compressedSize,4),W+=r(_.uncompressedSize,4),W+=r(m.length,2),W+=r(A.length,2),{fileRecord:l.LOCAL_FILE_HEADER+W+m+A,dirRecord:l.CENTRAL_FILE_HEADER+r(G,2)+W+r(C.length,2)+"\0\0\0\0"+r(E,4)+r(i,4)+m+A+C}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),l=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var s=o.transformTo("string",a(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.5.0",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),a=(r=e("./utils"),e("./zipEntries")),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(l(r[o]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,n,r){"use strict";n.exports={isNode:void 0!==t,newBufferFrom:function(e,n){if(t.from&&t.from!==Uint8Array.from)return t.from(e,n);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,n)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var n=new t(e);return n.fill(0),n},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),s=o.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(r=h(e))&&m.call(this,r,!0);var d,b="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!b),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string"),d=t instanceof l||t instanceof a?t:f.isNode&&f.isStream(t)?new p(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new u(e,d,s);this.files[e]=v}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:c.createFolders,e=g(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(b(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(b(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new c(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,n,r){"use strict";var i=e("../utils"),o=e("./ConvertWorker"),a=e("./GenericWorker"),s=e("../base64"),c=e("../support"),l=e("../external"),u=null;if(c.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,i.checkSupport(r),this._worker=e.pipe(new o(r)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return function(e,n){return new l.Promise((function(r,o){var a=[],c=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,t){a.push(e),n&&n(t)})).on("error",(function(e){a=[],o(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(l,function(e,n){var r,i=0,o=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(a),r=0;r<n.length;r++)o.set(n[r],i),i+=n[r].length;return o;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(c,a),u);r(e)}catch(e){o(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==t,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),r.blob=0===o.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):new Array(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,c=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)c[n++]=i;else if(4<(o=s[i]))c[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(l,a),l.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;a!==t.length&&(i.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function c(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=d;var p={};p.string={string:c,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},p.array={string:d,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:c},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return p[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,c){return s.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=i.decode(t):o&&!0!==a&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),l=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)r.prototype[l[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||n()}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=h((function(){t(i,r)}));"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(l,a))}),(function(e){r||(r=!0,o.reject(l,e))}))}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(a[n]);this._dict_set=!0}}function u(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=l,n.deflate=u,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,l,d,f,p=this.strm,h=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(h),p.next_out=0,p.avail_out=h),(n=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(f="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(p.output,p.next_out),l=p.next_out-c,d=o.buf2string(p.output,c),p.next_out=l,p.avail_out=h-l,l&&i.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,l=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if(4<(o=a[i]))l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return c(l,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=-2,u=258,d=262,f=113;function p(e,t){return e.msg=c[t],t}function h(e){return(e<<1)-(4<e?9:0)}function g(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function C(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function I(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,l=e.window,f=e.w_mask,p=e.prev,h=e.strstart+u,g=l[o+a-1],m=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===m&&l[n+a-1]===g&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<h);if(r=u-(h-o),o=h-u,a<r){if(e.match_start=t,s<=(a=r))break;g=l[o+a-1],m=l[o+a]}}}while((t=p[t&f])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function y(e){var t,n,r,o,c,l,u,f,p,h,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-d)){for(i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;r=e.head[--t],e.head[t]=g<=r?r-g:0,--n;);for(t=n=g;r=e.prev[--t],e.prev[t]=g<=r?r-g:0,--n;);o+=g}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,f=e.strstart+e.lookahead,h=void 0,(p=o)<(h=l.avail_in)&&(h=p),n=0===h?0:(l.avail_in-=h,i.arraySet(u,l.input,l.next_in,h,f),1===l.state.wrap?l.adler=a(l.adler,u,h,f):2===l.state.wrap&&(l.adler=s(l.adler,u,h,f)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function w(e,t){for(var n,r;;){if(e.lookahead<d){if(y(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-d&&(e.match_length=I(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function A(e,t){for(var n,r,i;;){if(e.lookahead<d){if(y(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-d&&(e.match_length=I(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function k(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):p(e,l)}function B(e){var t=Z(e);return 0===t&&function(e){e.window_size=2*e.w_size,g(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function _(e,t,n,r,o,a){if(!e)return l;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||9<o||8!==n||r<8||15<r||t<0||9<t||a<0||4<a)return p(e,l);8===r&&(r=9);var c=new x;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,B(e)}r=[new k(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(y(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new k(4,4,8,4,w),new k(4,5,16,8,w),new k(4,6,32,32,w),new k(4,4,16,16,A),new k(8,16,32,32,A),new k(8,16,128,128,A),new k(8,32,128,256,A),new k(32,128,258,1024,A),new k(32,258,258,4096,A)],n.deflateInit=function(e,t){return _(e,t,8,15,8,0)},n.deflateInit2=_,n.deflateReset=B,n.deflateResetKeep=Z,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},n.deflate=function(e,t){var n,i,a,c;if(!e||!e.state||5<t||t<0)return e?p(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return p(e,0===e.avail_out?-5:l);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,3),i.status=f);else{var d=8+(i.w_bits-8<<4)<<8;d|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=f,C(i,d),0!==i.strstart&&(C(i,e.adler>>>16),C(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),m(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(v(i,255&e.adler),v(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(n)&&4!==t)return p(e,-5);if(666===i.status&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var I=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(y(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=u){if(y(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+u;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=u-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==I&&4!==I||(i.status=666),1===I||3===I)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===I&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(v(i,255&e.adler),v(i,e.adler>>8&255),v(i,e.adler>>16&255),v(i,e.adler>>24&255),v(i,255&e.total_in),v(i,e.total_in>>8&255),v(i,e.total_in>>16&255),v(i,e.total_in>>24&255)):(C(i,e.adler>>>16),C(i,65535&e.adler)),m(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==f&&666!==t?p(e,l):(e.state=null,t===f?p(e,-3):0):l},n.deflateSetDictionary=function(e,t){var n,r,o,s,c,u,d,f,p=t.length;if(!e||!e.state)return l;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return l;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),c=e.avail_in,u=e.next_in,d=e.input,e.avail_in=p,e.next_in=0,e.input=t,y(n);n.lookahead>=3;){for(r=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=2,y(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=d,e.avail_in=c,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,a,s,c,l,u,d,f,p,h,g,m,b,v,C,I,y,w,A,k,x,Z;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,Z=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,f=n.window,p=n.hold,h=n.bits,g=n.lencode,m=n.distcode,b=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),C=g[p&b];t:for(;;){if(p>>>=I=C>>>24,h-=I,0==(I=C>>>16&255))Z[o++]=65535&C;else{if(!(16&I)){if(0==(64&I)){C=g[(65535&C)+(p&(1<<I)-1)];continue t}if(32&I){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}y=65535&C,(I&=15)&&(h<I&&(p+=x[r++]<<h,h+=8),y+=p&(1<<I)-1,p>>>=I,h-=I),h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),C=m[p&v];n:for(;;){if(p>>>=I=C>>>24,h-=I,!(16&(I=C>>>16&255))){if(0==(64&I)){C=m[(65535&C)+(p&(1<<I)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&C,h<(I&=15)&&(p+=x[r++]<<h,(h+=8)<I&&(p+=x[r++]<<h,h+=8)),c<(w+=p&(1<<I)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=I,h-=I,(I=o-a)<w){if(u<(I=w-I)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=f,(A=0)===d){if(A+=l-I,I<y){for(y-=I;Z[o++]=f[A++],--I;);A=o-w,k=Z}}else if(d<I){if(A+=l+d-I,(I-=d)<y){for(y-=I;Z[o++]=f[A++],--I;);if(A=0,d<y){for(y-=I=d;Z[o++]=f[A++],--I;);A=o-w,k=Z}}}else if(A+=d-I,I<y){for(y-=I;Z[o++]=f[A++],--I;);A=o-w,k=Z}for(;2<y;)Z[o++]=k[A++],Z[o++]=k[A++],Z[o++]=k[A++],y-=3;y&&(Z[o++]=k[A++],1<y&&(Z[o++]=k[A++]))}else{for(A=o-w;Z[o++]=Z[A++],Z[o++]=Z[A++],Z[o++]=Z[A++],2<(y-=3););y&&(Z[o++]=Z[A++],1<y&&(Z[o++]=Z[A++]))}break}}break}}while(r<i&&o<s);r-=y=h>>3,p&=(1<<(h-=y<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=h}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=-2;function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):c}function p(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):c}function h(e,t){var n,r;return e?(r=new u,(e.state=r).window=null,0!==(n=p(e,t))&&(e.state=null),n):c}var g,m,b=!0;function v(e){if(b){var t;for(g=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),b=!1}e.lencode=g,e.lenbits=9,e.distcode=m,e.distbits=5}function C(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=f,n.inflateReset2=p,n.inflateResetKeep=d,n.inflateInit=function(e){return h(e,15)},n.inflateInit2=h,n.inflate=function(e,t){var n,u,d,f,p,h,g,m,b,I,y,w,A,k,x,Z,B,_,S,E,G,W,O,j,N=0,F=new r.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(n=e.state).mode&&(n.mode=13),p=e.next_out,d=e.output,g=e.avail_out,f=e.next_in,u=e.input,h=e.avail_in,m=n.hold,b=n.bits,I=h,y=g,W=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(2&n.wrap&&35615===m){F[n.check=0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0),b=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(b-=4,G=8+(15&(m>>>=4)),0===n.wbits)n.wbits=G;else if(G>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<G,e.adler=n.check=1,n.mode=512&m?10:12,b=m=0;break;case 2:for(;b<16;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0)),b=m=0,n.mode=3;case 3:for(;b<32;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}n.head&&(n.head.time=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,F[2]=m>>>16&255,F[3]=m>>>24&255,n.check=o(n.check,F,4,0)),b=m=0,n.mode=4;case 4:for(;b<16;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0)),b=m=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=o(n.check,F,2,0)),b=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h<(w=n.length)&&(w=h),w&&(n.head&&(G=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,f,w,G)),512&n.flags&&(n.check=o(n.check,u,w,f)),h-=w,f+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;for(w=0;G=u[f+w++],n.head&&G&&n.length<65536&&(n.head.name+=String.fromCharCode(G)),G&&w<h;);if(512&n.flags&&(n.check=o(n.check,u,w,f)),h-=w,f+=w,G)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;for(w=0;G=u[f+w++],n.head&&G&&n.length<65536&&(n.head.comment+=String.fromCharCode(G)),G&&w<h;);if(512&n.flags&&(n.check=o(n.check,u,w,f)),h-=w,f+=w,G)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}b=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}e.adler=n.check=l(m),b=m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=p,e.avail_out=g,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=b,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}switch(n.last=1&m,b-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;m>>>=2,b-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,b=m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(h<w&&(w=h),g<w&&(w=g),0===w)break e;r.arraySet(d,u,f,w,p),h-=w,f+=w,g-=w,p+=w,n.length-=w;break}n.mode=12;break;case 17:for(;b<14;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(n.nlen=257+(31&m),m>>>=5,b-=5,n.ndist=1+(31&m),m>>>=5,b-=5,n.ncode=4+(15&m),m>>>=4,b-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}n.lens[R[n.have++]]=7&m,m>>>=3,b-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},W=s(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,W){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;Z=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,B=65535&N,!((x=N>>>24)<=b);){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(B<16)m>>>=x,b-=x,n.lens[n.have++]=B;else{if(16===B){for(j=x+2;b<j;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(m>>>=x,b-=x,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}G=n.lens[n.have-1],w=3+(3&m),m>>>=2,b-=2}else if(17===B){for(j=x+3;b<j;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}b-=x,G=0,w=3+(7&(m>>>=x)),m>>>=3,b-=3}else{for(j=x+7;b<j;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}b-=x,G=0,w=11+(127&(m>>>=x)),m>>>=7,b-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=G}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},W=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,W){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},W=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,W){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=h&&258<=g){e.next_out=p,e.avail_out=g,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=b,a(e,y),p=e.next_out,d=e.output,g=e.avail_out,f=e.next_in,u=e.input,h=e.avail_in,m=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;Z=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,B=65535&N,!((x=N>>>24)<=b);){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(Z&&0==(240&Z)){for(_=x,S=Z,E=B;Z=(N=n.lencode[E+((m&(1<<_+S)-1)>>_)])>>>16&255,B=65535&N,!(_+(x=N>>>24)<=b);){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}m>>>=_,b-=_,n.back+=_}if(m>>>=x,b-=x,n.back+=x,n.length=B,0===Z){n.mode=26;break}if(32&Z){n.back=-1,n.mode=12;break}if(64&Z){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&Z,n.mode=22;case 22:if(n.extra){for(j=n.extra;b<j;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;Z=(N=n.distcode[m&(1<<n.distbits)-1])>>>16&255,B=65535&N,!((x=N>>>24)<=b);){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(0==(240&Z)){for(_=x,S=Z,E=B;Z=(N=n.distcode[E+((m&(1<<_+S)-1)>>_)])>>>16&255,B=65535&N,!(_+(x=N>>>24)<=b);){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}m>>>=_,b-=_,n.back+=_}if(m>>>=x,b-=x,n.back+=x,64&Z){e.msg="invalid distance code",n.mode=30;break}n.offset=B,n.extra=15&Z,n.mode=24;case 24:if(n.extra){for(j=n.extra;b<j;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(w=y-g,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}A=w>n.wnext?(w-=n.wnext,n.wsize-w):n.wnext-w,w>n.length&&(w=n.length),k=n.window}else k=d,A=p-n.offset,w=n.length;for(g<w&&(w=g),g-=w,n.length-=w;d[p++]=k[A++],--w;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;d[p++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===h)break e;h--,m|=u[f++]<<b,b+=8}if(y-=g,e.total_out+=y,n.total+=y,y&&(e.adler=n.check=n.flags?o(n.check,d,y,p-y):i(n.check,d,y,p-y)),y=g,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}b=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===h)break e;h--,m+=u[f++]<<b,b+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}b=m=0}n.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return c}return e.next_out=p,e.avail_out=g,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=b,(n.wsize||y!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&C(e,e.output,e.next_out,y-e.avail_out)?(n.mode=31,-4):(I-=e.avail_in,y-=e.avail_out,e.total_in+=I,e.total_out+=y,n.total+=y,n.wrap&&y&&(e.adler=n.check=n.flags?o(n.check,d,y,e.next_out-y):i(n.check,d,y,e.next_out-y)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==I&&0===y||4===t)&&0===W&&(W=-5),W)},n.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:((n.head=t).done=!1,0):c},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:C(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,u,d,f){var p,h,g,m,b,v,C,I,y,w=f.bits,A=0,k=0,x=0,Z=0,B=0,_=0,S=0,E=0,G=0,W=0,O=null,j=0,N=new r.Buf16(16),F=new r.Buf16(16),R=null,T=0;for(A=0;A<=15;A++)N[A]=0;for(k=0;k<c;k++)N[t[n+k]]++;for(B=w,Z=15;1<=Z&&0===N[Z];Z--);if(Z<B&&(B=Z),0===Z)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(x=1;x<Z&&0===N[x];x++);for(B<x&&(B=x),A=E=1;A<=15;A++)if(E<<=1,(E-=N[A])<0)return-1;if(0<E&&(0===e||1!==Z))return-1;for(F[1]=0,A=1;A<15;A++)F[A+1]=F[A]+N[A];for(k=0;k<c;k++)0!==t[n+k]&&(d[F[t[n+k]]++]=k);if(v=0===e?(O=R=d,19):1===e?(O=i,j-=257,R=o,T-=257,256):(O=a,R=s,-1),A=x,b=u,S=k=W=0,g=-1,m=(G=1<<(_=B))-1,1===e&&852<G||2===e&&592<G)return 1;for(;;){for(C=A-S,y=d[k]<v?(I=0,d[k]):d[k]>v?(I=R[T+d[k]],O[j+d[k]]):(I=96,0),p=1<<A-S,x=h=1<<_;l[b+(W>>S)+(h-=p)]=C<<24|I<<16|y|0,0!==h;);for(p=1<<A-1;W&p;)p>>=1;if(0!==p?(W&=p-1,W+=p):W=0,k++,0==--N[A]){if(A===Z)break;A=t[n+d[k]]}if(B<A&&(W&m)!==g){for(0===S&&(S=B),b+=x,E=1<<(_=A-S);_+S<Z&&!((E-=N[_+S])<=0);)_++,E<<=1;if(G+=1<<_,1===e&&852<G||2===e&&592<G)return 1;l[g=W&m]=B<<24|_<<16|b-u|0}}return 0!==W&&(l[b+W]=A-S<<24|64<<16|0),f.bits=B,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o=256,a=286,s=30,c=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var h=new Array(60);i(h);var g=new Array(512);i(g);var m=new Array(256);i(m);var b=new Array(29);i(b);var v,C,I,y=new Array(s);function w(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function A(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?g[e]:g[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function Z(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function B(e,t,n){Z(e,n[2*t],n[2*t+1])}function _(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function S(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=c;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=_(o[s]++,s))}}function E(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){8<e.bi_valid?x(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function O(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&W(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!W(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function j(e,t,n){var r,i,a,s,c=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?B(e,i,t):(B(e,(a=m[i])+o+1,t),0!==(s=l[a])&&Z(e,i-=b[a],s),B(e,a=k(--r),n),0!==(s=u[a])&&Z(e,r-=y[a],s)),c<e.last_lit;);B(e,256,t)}function N(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)O(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,O(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=c;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)g<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=g,m++),l[2*r+1]=o,u<r||(e.bl_count[o]++,a=0,h<=r&&(a=p[r-h]),s=l[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(d[2*r+1]+a)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(0<m);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)u<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),S(o,u,e.bl_count)}function F(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=i,l=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4))}function R(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<l)for(;B(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(B(e,i,e.bl_tree),s--),B(e,16,e.bl_tree),Z(e,s-3,2)):s<=10?(B(e,17,e.bl_tree),Z(e,s-3,3)):(B(e,18,e.bl_tree),Z(e,s-11,7));o=i,l=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4)}}i(y);var T=!1;function V(e,t,n,i){Z(e,0+(i?1:0),3),function(e,t,n,i){G(e),x(e,n),x(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){T||(function(){var e,t,n,r,i,o=new Array(16);for(r=n=0;r<28;r++)for(b[r]=n,e=0;e<1<<l[r];e++)m[n++]=r;for(m[n-1]=r,r=i=0;r<16;r++)for(y[r]=i,e=0;e<1<<u[r];e++)g[i++]=r;for(i>>=7;r<s;r++)for(y[r]=i<<7,e=0;e<1<<u[r]-7;e++)g[256+i++]=r;for(t=0;t<=c;t++)o[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,o[8]++;for(;e<=255;)p[2*e+1]=9,e++,o[9]++;for(;e<=279;)p[2*e+1]=7,e++,o[7]++;for(;e<=287;)p[2*e+1]=8,e++,o[8]++;for(S(p,287,o),e=0;e<s;e++)h[2*e+1]=5,h[2*e]=_(e,5);v=new w(p,l,257,a,c),C=new w(h,u,0,s,c),I=new w(new Array(0),d,0,19,7)}(),T=!0),e.l_desc=new A(e.dyn_ltree,v),e.d_desc=new A(e.dyn_dtree,C),e.bl_desc=new A(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,E(e)},n._tr_stored_block=V,n._tr_flush_block=function(e,t,n,r){var i,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?V(e,t,n,r):4===e.strategy||a===i?(Z(e,2+(r?1:0),3),j(e,p,h)):(Z(e,4+(r?1:0),3),function(e,t,n,r){var i;for(Z(e,t-257,5),Z(e,n-1,5),Z(e,r-4,4),i=0;i<r;i++)Z(e,e.bl_tree[2*f[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),j(e,e.dyn_ltree,e.dyn_dtree)),E(e),r&&G(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+o+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){Z(e,2,3),B(e,256,p),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof i?i:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}).call(this,n("HDXh").Buffer,n("yLpj"),n("URgk").setImmediate)}}]);
//# sourceMappingURL=27-52afff680fe89831a653.js.map